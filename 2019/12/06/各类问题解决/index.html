<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/hexo_blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/hexo_blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/hexo_blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/hexo_blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/hexo_blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/hexo_blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/hexo_blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="开个新博客，来记录工作过程中碰到的各种各类的小问题。 Windows 端口被占用  netstat -aon|findstr &amp;quot;8081&amp;quot;，查看占用端口8081的进程 tasklist|findstr &amp;quot;9088&amp;quot;，查看进程是哪个应用 taskkill /T /F /PID 9088 杀死这个进程  ENV 这个章节主要是包括编译啊，版本控制啊，IDE啊之类">
<meta property="og:type" content="article">
<meta property="og:title" content="Problems During Working">
<meta property="og:url" content="https://sallyslove.github.io/hexo_blog/2019/12/06/各类问题解决/index.html">
<meta property="og:site_name" content="跬步">
<meta property="og:description" content="开个新博客，来记录工作过程中碰到的各种各类的小问题。 Windows 端口被占用  netstat -aon|findstr &amp;quot;8081&amp;quot;，查看占用端口8081的进程 tasklist|findstr &amp;quot;9088&amp;quot;，查看进程是哪个应用 taskkill /T /F /PID 9088 杀死这个进程  ENV 这个章节主要是包括编译啊，版本控制啊，IDE啊之类">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://user-images.githubusercontent.com/5803001/34945022-c57b369a-fa3c-11e7-85e7-83f716d10705.png">
<meta property="og:updated_time" content="2020-09-08T07:13:47.305Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Problems During Working">
<meta name="twitter:description" content="开个新博客，来记录工作过程中碰到的各种各类的小问题。 Windows 端口被占用  netstat -aon|findstr &amp;quot;8081&amp;quot;，查看占用端口8081的进程 tasklist|findstr &amp;quot;9088&amp;quot;，查看进程是哪个应用 taskkill /T /F /PID 9088 杀死这个进程  ENV 这个章节主要是包括编译啊，版本控制啊，IDE啊之类">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/5803001/34945022-c57b369a-fa3c-11e7-85e7-83f716d10705.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/hexo_blog/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sallyslove.github.io/hexo_blog/2019/12/06/各类问题解决/">





  <title>Problems During Working | 跬步</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/hexo_blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">跬步</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不积跬步，无以至千里</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/hexo_blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/hexo_blog/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/hexo_blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/12/06/各类问题解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="跬步">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Problems During Working</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-06T13:53:11+08:00">
                2019-12-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>开个新博客，来记录工作过程中碰到的各种各类的小问题。</p>
<h2 id="windows"><a class="header-anchor" href="#windows"></a>Windows</h2>
<h3 id="端口被占用"><a class="header-anchor" href="#端口被占用"></a>端口被占用</h3>
<ul>
<li><code>netstat -aon|findstr &quot;8081&quot;</code>，查看占用端口<code>8081</code>的进程</li>
<li><code>tasklist|findstr &quot;9088&quot;</code>，查看进程是哪个应用</li>
<li><code>taskkill /T /F /PID 9088</code> 杀死这个进程</li>
</ul>
<h2 id="env"><a class="header-anchor" href="#env"></a>ENV</h2>
<p>这个章节主要是包括编译啊，版本控制啊，IDE啊之类的小问题</p>
<h3 id="ij"><a class="header-anchor" href="#ij"></a>IJ</h3>
<h4 id="command-too-long-error"><a class="header-anchor" href="#command-too-long-error"></a>command too long error</h4>
<ul>
<li>
<p>今天尝试跑Junit，结果IJ报错，说我命令行太长：</p>
<pre><code>Error running 'xxxxxxx': Command line is too long. Shorten command line for xxxxxxx or also for JUnit default configuration.
</code></pre>
</li>
<li>
<p>解决方法是在Run…的配置里面，有一个<code>shorten command line</code>选项，选成<code>classpath file</code>，这样就可以了。</p>
</li>
<li>
<p>参考链接：</p>
<ul>
<li><a href="https://blog.jetbrains.com/idea/2017/10/intellij-idea-2017-3-eap-configurable-command-line-shortener-and-more/" target="_blank" rel="noopener">configurable-command-line-shortener</a></li>
<li><a href="https://stackoverflow.com/questions/47926382/how-to-configure-shorten-command-line-method-for-whole-project-in-intellij/47927544" target="_blank" rel="noopener">how-to-configure-shorten-command-line</a></li>
</ul>
</li>
</ul>
<h4 id="output-path-same"><a class="header-anchor" href="#output-path-same"></a>Output path same</h4>
<ul>
<li>编译<code>scala</code>项目的时候报的错误。意思是输出路径一样。改一下<code>module</code>的输出路径就可以了。奇怪的是，为啥会一样啊。</li>
<li><a href="https://stackoverflow.com/questions/18920334/output-path-is-shared-between-the-same-module-error/21418406#21418406" target="_blank" rel="noopener">output-path-is-shared</a></li>
</ul>
<h4 id="error-failed-to-load-project-configuration-cannot-parse-file-xxx-idea-workspace-xml-parseerror-at-row-col-1-1-message-content-is-not-allowed-in-prolog"><a class="header-anchor" href="#error-failed-to-load-project-configuration-cannot-parse-file-xxx-idea-workspace-xml-parseerror-at-row-col-1-1-message-content-is-not-allowed-in-prolog"></a>Error:Failed to load project configuration: cannot parse file xxx.idea\workspace.xml: ParseError at [row,col]:[1,1] Message: Content is not allowed in prolog.</h4>
<ul>
<li>大致含义就是这个文件坏了按照stackoverflow上面的，先删除这个文件，再点击“ started 'Invalid Caches/Restart&quot; under “File”.”就可以解决问题了</li>
<li><a href="https://stackoverflow.com/questions/29604148/workspace-xml-file-corrupted-error-on-line-1-content-is-not-allowed-in-prolog" target="_blank" rel="noopener">workspace-xml-file-corrupted</a></li>
</ul>
<h3 id="git"><a class="header-anchor" href="#git"></a>GIT</h3>
<h4 id="filename-too-long-error"><a class="header-anchor" href="#filename-too-long-error"></a>filename too long error</h4>
<ul>
<li>改一下<code>GIT</code>的配置就可以了</li>
<li><code>git config --system core.longpaths true</code></li>
<li><a href="https://ourcodeworld.com/articles/read/109/how-to-solve-filename-too-long-error-in-git-powershell-and-github-application-for-windows" target="_blank" rel="noopener">how-to-solve-filename-too-long-error</a></li>
</ul>
<h3 id="vim"><a class="header-anchor" href="#vim"></a>VIM</h3>
<h4 id="全局替换"><a class="header-anchor" href="#全局替换"></a>全局替换</h4>
<ul>
<li><code>:%s/vivian/sky/g</code>: 替换每一行中所有<code>vivian</code> 为<code>sky</code></li>
<li><a href="http://blog.sina.com.cn/s/blog_736f1c59010136ry.html" target="_blank" rel="noopener">vim替换变量</a></li>
</ul>
<h2 id="java"><a class="header-anchor" href="#java"></a>Java</h2>
<h3 id="mock"><a class="header-anchor" href="#mock"></a>Mock</h3>
<h4 id="checked-exception-is-invalid-for-this-method"><a class="header-anchor" href="#checked-exception-is-invalid-for-this-method"></a>Checked exception is invalid for this method!</h4>
<ul>
<li>用<code>thenThrow</code>时候报了这个错误，这个错误的含义其实是调用的函数并没有抛出模拟的这个函数，所以模拟不起来</li>
<li>我自己是因为在<code>scala</code>里面外面包了一层</li>
</ul>
<h2 id="cassandra"><a class="header-anchor" href="#cassandra"></a>Cassandra</h2>
<h3 id="cassandra-was-never-started"><a class="header-anchor" href="#cassandra-was-never-started"></a>Cassandra was never started</h3>
<ul>
<li>这个问题是在解决POD不断重启的问题的过程中遇到的。</li>
<li>问题的根源其实就是Cassandra的版本被替换了，用户和密码也换掉了</li>
<li>参考链接：
<ul>
<li>
<p><a href="https://docs.datastax.com/en/developer/java-driver/3.1/manual/custom_codecs/extras/" target="_blank" rel="noopener">time codecs</a></p>
<p>2020-03-26 10:39:08,280+0100 [vent Dispatcher] WARN  [com.datastax.driver.core.CodecRegistry] Ignoring codec InstantCodec [timestamp &lt;-&gt; java.time.Instant] because it collides with previously registered codec InstantCodec [timestamp &lt;-&gt; java.time.Instant]</p>
</li>
</ul>
</li>
</ul>
<h2 id="docker"><a class="header-anchor" href="#docker"></a>Docker</h2>
<h3 id="docker-login"><a class="header-anchor" href="#docker-login"></a>docker login</h3>
<pre><code> $ docker login XXXXX
    Authenticating with existing credentials...
    Stored credentials invalid or expired
    Error: Cannot perform an interactive login from a non TTY device
</code></pre>
<ul>
<li>这是由于密码更换了之后原有密码不对造成的问题。加个<code>-u username -p password</code>就能够解决</li>
<li>也可以设置环境变量来解决<code>DOCKER_USERNAME DOCKER_PASSWORD</code></li>
<li>参考链接： <a href="https://community.atlassian.com/t5/Bitbucket-questions/Piplenes-docker-login-can-not-perform-an-interactive-login-from/qaq-p/595736" target="_blank" rel="noopener">docker login can not perform an interactive login from a non TTY</a></li>
</ul>
<h3 id="docker-demon"><a class="header-anchor" href="#docker-demon"></a>docker demon</h3>
<pre><code>error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_engine/v1.25/version: open //./pipe/docker_engine: The system cannot find the file
specified. In the default daemon configuration on Windows, the docker client must be run elevated to connect. This error may also indicate that the docker daemon is not running.
</code></pre>
<ul>
<li><code>&quot;C:\Program Files\Docker\Docker\DockerCli.exe&quot; -SwitchDaemo</code></li>
<li>并没有研究原理啦</li>
<li>参考链接：<a href="https://stackoverflow.com/questions/40459280/docker-cannot-start-on-windows" target="_blank" rel="noopener">docker cannot start on windows</a></li>
</ul>
<h3 id="docker-image-没有名字"><a class="header-anchor" href="#docker-image-没有名字"></a>docker image 没有名字</h3>
<ul>
<li>
<p><code>docker build</code>出来的<code>image</code>没有名字，需要在命令行指定</p>
<pre><code>docker build -t image_name
</code></pre>
</li>
<li>
<p>参考链接</p>
<ul>
<li><a href="https://stackoverflow.com/questions/38986057/how-to-set-image-name-in-dockerfile" target="_blank" rel="noopener">how-to-set-image-name-in-dockerfile</a></li>
</ul>
</li>
</ul>
<h3 id="docker-for-desktop-安装"><a class="header-anchor" href="#docker-for-desktop-安装"></a>docker for desktop 安装</h3>
<ul>
<li>安装时候一直提示<code>dockerd</code>文件被<code>windows event log</code>占用了。但是按照各种<code>windows</code>的方法都找不到，最后从<code>gitbash</code>强制删除掉文件再安装就好了。</li>
</ul>
<h3 id="docker-for-desktop-如何安装dashboard"><a class="header-anchor" href="#docker-for-desktop-如何安装dashboard"></a>docker for desktop 如何安装Dashboard</h3>
<ul>
<li>安装<code>k8s</code>的<code>dashboard</code>：
<ul>
<li>使用“docker for desktop“的时候，这个<code>dashboard</code>貌似不是事先装好的。印象不深刻了。需要装一下：</li>
<li><code>kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml</code></li>
<li><code>kubectl proxy</code> 再将<code>proxy</code>给弄出来，就可以访问了。</li>
<li>如下图：<br>
<img src="https://user-images.githubusercontent.com/5803001/34945022-c57b369a-fa3c-11e7-85e7-83f716d10705.png" alt></li>
<li>参考链接登录：
<ul>
<li><a href="https://segmentfault.com/a/1190000012850396" target="_blank" rel="noopener">config登录方式</a></li>
<li><a href="https://www.cnblogs.com/guigujun/p/8366530.html" target="_blank" rel="noopener">config登录方式2</a></li>
<li><a href="https://www.cnblogs.com/jackyfei/p/10180465.html" target="_blank" rel="noopener">token方式登录</a></li>
</ul>
</li>
<li>获取token的命令：<code>kubectl -n kube-system describe secret $(kubectl -n kube-system get secret | grep admin-user | awk '{print $1}')</code></li>
</ul>
</li>
</ul>
<h2 id="k8s"><a class="header-anchor" href="#k8s"></a>K8S</h2>
<h3 id="连不上k8s"><a class="header-anchor" href="#连不上k8s"></a>连不上K8S</h3>
<pre><code>$ kubectl cluster-info
Kubernetes master is running at ...
To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
Unable to connect to the server: x509: certificate signed by unknown authority (possibly because of &quot;crypto/rsa: verification error&quot; while trying to verify candidate authority certificate &quot;kubernetes&quot;)
</code></pre>
<ul>
<li>参考链接：<a href="https://blog.csdn.net/baobaoxiannv/article/details/83818426" target="_blank" rel="noopener">csdn博客一篇</a></li>
<li>其实就是<code>kube</code>的<code>config</code>文件: <code>~/.kube/config</code> 文件过时了。里面的<code>certification</code>需要更新。从<code>kube server</code>上面把<code>config</code>拿下来替换一些本地的就好了。</li>
</ul>
<h3 id="k8s的nodeport-service出错"><a class="header-anchor" href="#k8s的nodeport-service出错"></a>K8s的NodePort Service出错</h3>
<h5 id="nodeport-service的nodeport无法访问"><a class="header-anchor" href="#nodeport-service的nodeport无法访问"></a>NodePort Service的NodePort无法访问</h5>
<ul>
<li>在工作中碰到一个问题。<code>NodePort</code>的<code>NodePort</code>无法访问，只有我组开发的一个服务有问题，其他服务都是OK的
<ul>
<li>内部服务使用<code>clusterIP:internalPort</code>访问没有问题</li>
<li>外部机器无法访问</li>
<li>各个机器上面的端口已经完全开好了</li>
<li>只有本机可以使用<code>NodeIP:NodePort</code>访问到服务,也就是<code>deployment</code>起或者<code>pod</code>起的那台机器可以访问服务</li>
<li>只有一套环境有问题，另外一套环境没有问题。有问题的环境上面有<code>kube-proxy</code>服务，而另一套并没在<code>kube-system</code>下面找到<code>kube-proxy</code></li>
</ul>
</li>
<li>先说结论，最后发现是由于在我国抵抗疫情期间，国外友人加了<code>NetworkPolicy</code>导致的，需要在服务的<code>deployment</code>里面加上一个标准位，而添加的网络规则会根据这个标准位来放行或者阻拦<code>traffic</code>
<ul>
<li>使用<code>kubectl get networkpolicy</code>可以看到设置的网络规则，使用<code>describe</code>命令可以看到详细的信息，如下，所以需要加上这个标志位（在deployment的labels里面。）</li>
<li>后续需要进一步学习<code>NetworkPolicy</code>相关知识</li>
</ul>
</li>
</ul>
<pre><code>   Spec:
	PodSelector:     allowTraffic=true
</code></pre>
<ul>
<li>这边来看解决分析过程。
<ul>
<li>由于两套环境上一套是工作的第一反应是两套机器的差异，并且还有一个信息是春节前是工作的，春节后是不工作的。但是由于机器并不是我们自己搭的，只能猜测是环境改变了。</li>
<li><code>kube-proxy</code> 出问题了，因为所有的<code>clusterIP</code>是好的，那么猜测是中间的转发过程出问题了，于是查询看看同一个<code>node</code>上面的<code>kube-proxy</code>的日志，事实上没有任何错误。这边有几个信息，即使在日志里面看到了端口被占用的日志，也并没有什么意义，在测试中，不停地启停<code>service</code>就可能触发这个日志。</li>
<li>在排除掉<code>kube-proxy</code>之后，就怀疑是<code>iptables</code>的错误。参考以下链接，确实在<code>iptables</code>出现问题的时候可能发生类似的错误：</li>
<li>参考链接：<a href="https://stackoverflow.com/questions/46667659/kubernetes-cannot-access-nodeport-from-other-machines" target="_blank" rel="noopener">k8s的nodeport无法从其他机器访问</a></li>
<li><a href="https://www.myf5.net/post/2343.htm" target="_blank" rel="noopener">NodePort Service的请求未被分发到各个node的排错</a></li>
<li>于是看了一整天的<code>iptables</code>。由于时间紧迫，并未能看到全貌，后续会新开一篇博客来补。事实上，<code>NodePort</code>服务类型只比<code>ClusterIP</code>类型多两条规则</li>
<li>而在整个<code>ipTables</code>里面，可以很清晰地看到整个链路，一直转到<code>endpoint</code>上面。尽管里面也有上述两个链接中提到的<code>Docker</code>相关的规则，却不是在<code>filter</code>过滤表里面。而是在<code>NAT</code>转发表里，所以按照链路来看，从<code>NodePort</code>进去的请求最后确实转发到了<code>endpoint</code>，并没有到<code>Docker</code>里面。事实上，我尝试在<code>IpTables</code>里面加上了链接中的路由，并未生效。</li>
<li>在研究了一天<code>iptables</code>之后，转到了比较生硬一些却可能更有效的办法：</li>
<li>研究其他服务的代码改动。事实上，肯定是有加入这个标志位的，但是由于和一些类似格式的改动在一起，没看出来</li>
<li>查询从哪一天开始出现了问题。万幸已经知道2月6号的包有问题，年前是好的，中间并未差几天。在数次装包卸载之后发现了时间点。再比较两个包的差异，发现了这个<code>NetworkPolicy</code>的增加</li>
</ul>
</li>
</ul>
<h3 id="pod不断重启"><a class="header-anchor" href="#pod不断重启"></a>POD不断重启</h3>
<ul>
<li>仍旧是上一个问题相同的项目出的问题，这个项目怎么这么难呢 😦</li>
<li>由于这个项目是架构在<code>OSGI</code>上面的，进入<code>OSGI</code>发现有一个<code>AKKA</code>相关的<code>bundle</code>的状态不对，不是<code>ACTIVE</code>，而是<code>RESOLVED</code>，第一反应就是我在前一周做的改动不对。因为在前一天我进行了<code>IPV6</code>的改动，但是并不工作。</li>
<li>于是回滚掉<code>IPV6</code>的改动，回滚掉再之前的<code>AKKA service</code>相关的改动，然并卵，这时候也已经周五晚上12点了。只能作罢</li>
</ul>
<h4 id="为何没能够更早的发现问题"><a class="header-anchor" href="#为何没能够更早的发现问题"></a>为何没能够更早的发现问题</h4>
<ul>
<li><code>POD</code>并不是起不来，然后一直重启，而是在起来一段时间，大约10来分钟的时候会重启，所以一直没有被发现。这点是一个改变，后续需要注意。</li>
<li>测试方法的问题，我们在测试的时候因为只是功能发布之后的回归测试，仅仅测试了端口是不是通。这样很快，但是也就测不到问题了。</li>
</ul>
<h4 id="周末调试"><a class="header-anchor" href="#周末调试"></a>周末调试</h4>
<ul>
<li>周末的时候和上一次调试不一样的是，上来就选择了各种装包和对比，最后发现3月9号的包是OK的，而12号的就挂了</li>
<li>在这之间，最大的改动是<code>Cassandra</code>改动，这个改动直接导致了10号11号的包都是坏的。</li>
<li>然后再一次，我们这个项目又被国外友人给漏掉了</li>
<li>但是奇特的是，按照对比之后，我们应该连不上<code>Cassandra</code>了才对，但是实际上，整个<code>pod</code>起来的时候，<code>OSGI</code>的服务会最先检查数据库安装，并未报错，所以这点很是奇特。在解决问题后发现，应该是创了不同的<code>user</code>，<code>super user</code>仍旧是存在的。所以连接并未报错，但是实际的服务却不对了</li>
<li>对比包无效之后，回到最初的问题上面，为什么<code>POD</code>会自动重启</li>
</ul>
<h4 id="k8s-pod重启"><a class="header-anchor" href="#k8s-pod重启"></a>K8S POD重启</h4>
<ul>
<li>
<p>这里有一个命令： <code>kubectl get events</code>,使用这个命令可以看到<code>POD</code>的事务：</p>
<pre><code>$ kubectl get events
LAST SEEN   TYPE   REASON  OBJECT      MESSAGE
&lt;unknown&gt;   Normal    Scheduled                         pod/xxxxxxx Successfully assigned &lt;namespace&gt;/xxxxxx to node-10-41-82-7
</code></pre>
</li>
<li>
<p>这样可以清晰看到<code>pod</code>由于连不上<code>AKKA</code>服务的<code>2929</code>端口而重启，也就是<code>liveness</code>条件不满足了，所以<code>K8S</code>就欢快地把<code>POD</code>杀掉了。</p>
</li>
<li>
<p>然后还有一个有用的命令是<code>kubectl logs -p &lt;podName&gt;</code>这条命令可以帮助我们看到被杀的前一个pod的日志，毕竟我们看的当时，前一个pod可能已经被干掉了</p>
</li>
</ul>
<h4 id="分析"><a class="header-anchor" href="#分析"></a>分析</h4>
<ul>
<li>
<p>问题有二，<code>2929</code>端口起不来，<code>OSGI bundle</code>起不来，也可能最后都是<code>Cassandra</code>导致的。在解决之后，事实证明后一个问题确实是，前一个并不是。</p>
</li>
<li>
<p>而且两者都和<code>AKKA</code>服务相关，但是<code>AKKA</code>和<code>Cassandra</code>有个毛线相关性。</p>
</li>
<li>
<p>还有个坑爹的是，打开<code>DEBUG</code>级别的日志，可以看到除了<code>AKKA</code>相关的<code>bundle</code>之外，几乎所有的<code>bundle</code>都在报以下的错误。这个错误在<code>bundle</code>之间调用服务时候的就会出现。</p>
</li>
<li>
<p>由于<code>AKKA</code>的<code>bundle</code>是最后一个，在启动时候会check其他所有<code>bundle</code>的状态，所以这家伙就挂了。将<code>check</code>去掉就起来了。所以看起来，这个<code>bundle</code>起不来，更多的是和以下的<code>OSGI</code>错误相关，而不是和<code>AKKA</code>有关联</p>
</li>
<li>
<p>但是在从上回的<code>network Policy</code>问题以来，只有一滴滴helm chart的改动。java代码压根没动过。依赖也没改过。</p>
</li>
<li>
<p><code>OSGI</code>你报什么错啊，吐血了我！</p>
<pre><code> org.osgi.framework.ServiceException: org.apache.felix.scr.impl.manager.SingleComponentManager.getService() returned a null service object
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:163) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:468) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:467) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:594) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.apache.felix.scr.impl.helper.BindMethod.getServiceObject(BindMethod.java:572) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.getServiceObject(DependencyManager.java:2012) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager$SingleDynamicCustomizer.prebind(DependencyManager.java:852) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.prebind(DependencyManager.java:1439) [na:na]
at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1119) [na:na]
at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:807) [na:na]
at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:777) [na:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:141) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_212]
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:139) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:468) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:467) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:594) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.apache.felix.scr.impl.helper.BindMethod.getServiceObject(BindMethod.java:572) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.getServiceObject(DependencyManager.java:2012) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager$SingleDynamicCustomizer.prebind(DependencyManager.java:852) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.prebind(DependencyManager.java:1439) [na:na]
at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1119) [na:na]
at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:807) [na:na]
at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:777) [na:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceUse$1.run(ServiceUse.java:141) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_212]
at org.eclipse.osgi.internal.serviceregistry.ServiceUse.getService(ServiceUse.java:139) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:468) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:467) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.getService(BundleContextImpl.java:594) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.apache.felix.scr.impl.helper.BindMethod.getServiceObject(BindMethod.java:572) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.getServiceObject(DependencyManager.java:2012) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager$SingleDynamicCustomizer.prebind(DependencyManager.java:852) [na:na]
at org.apache.felix.scr.impl.manager.DependencyManager.prebind(DependencyManager.java:1439) [na:na]
at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1119) [na:na]
at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:807) [na:na]
at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:850) [na:na]
at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:419) [na:na]
at org.apache.felix.scr.impl.config.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:376) [na:na]
at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:172) [na:na]
at org.apache.felix.scr.impl.BundleComponentActivator.&lt;init&gt;(BundleComponentActivator.java:120) [na:na]
at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:258) [na:na]
at org.apache.felix.scr.impl.Activator.access$000(Activator.java:45) [na:na]
at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:185) [na:na]
at org.apache.felix.utils.extender.AbstractExtender.createExtension(AbstractExtender.java:259) [na:na]
at org.apache.felix.utils.extender.AbstractExtender.modifiedBundle(AbstractExtender.java:232) [na:na]
at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:479) [karaf-org.osgi.core.jar:na]
at org.osgi.util.tracker.BundleTracker$Tracked.customizerModified(BundleTracker.java:414) [karaf-org.osgi.core.jar:na]
at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:232) [karaf-org.osgi.core.jar:na]
at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:443) [karaf-org.osgi.core.jar:na]
at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:847) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEventPrivileged(Framework.java:1568) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1504) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.Framework.publishBundleEvent(Framework.java:1499) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:391) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:390) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1176) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340) [org.eclipse.osgi-3.8.2.v20130124-134944.jar:na]
</code></pre>
</li>
</ul>
<h4 id="进展"><a class="header-anchor" href="#进展"></a>进展</h4>
<ul>
<li>在做了<code>workaround</code>： 替换<code>liveness</code>的端口，这样<code>pod</code>不会在不断重启；将<code>bundle</code>的<code>check</code>去掉，这样<code>bundle</code>看着都<code>active</code>了。之后，开始重新<code>debug</code></li>
<li><code>OSGI</code>的错误在打开<code>apache</code>的<code>debug log</code>之后仍旧无从下手，这个错误在3月9号的包中也是没有的，只能回到对比包的老路上面来。</li>
<li>那么第一个仍旧是<code>Cassandra</code>的改动。这回在将这个改动加上之后，<code>OSGI</code>的错误没有了。然鹅，为什么数据库的改动会影响到<code>OSGI</code>的状态，并不知道。这个问题只能到此为止啦。</li>
<li>所以使用<code>karaf</code>仍旧是很<code>heavy</code>的，在最新的版本中已经将之移除了。</li>
</ul>
<h4 id="参考链接"><a class="header-anchor" href="#参考链接"></a>参考链接</h4>
<ul>
<li>在问题的解决过程中，查询了很多，有一些比较有用的链接如下：
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/51455551" target="_blank" rel="noopener">k8s为何杀死我的Pod</a></li>
<li><a href="https://blog.csdn.net/yzh_1346983557/article/details/89216494?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">CPU分配过少导致POD重启</a></li>
</ul>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/hexo_blog/2019/11/15/TLS-Certification/" rel="next" title="TLS - Certificate">
                <i class="fa fa-chevron-left"></i> TLS - Certificate
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/hexo_blog/2020/01/09/Linux-Command/" rel="prev" title="Linux Command">
                Linux Command <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lynn Shen</p>
              <p class="site-description motion-element" itemprop="description">35岁开始的博客，有点晚哦</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/hexo_blog/archives/">
              
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/hexo_blog/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#windows"><span class="nav-number">1.</span> <span class="nav-text">Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#端口被占用"><span class="nav-number">1.1.</span> <span class="nav-text">端口被占用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#env"><span class="nav-number">2.</span> <span class="nav-text">ENV</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ij"><span class="nav-number">2.1.</span> <span class="nav-text">IJ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#command-too-long-error"><span class="nav-number">2.1.1.</span> <span class="nav-text">command too long error</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output-path-same"><span class="nav-number">2.1.2.</span> <span class="nav-text">Output path same</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#error-failed-to-load-project-configuration-cannot-parse-file-xxx-idea-workspace-xml-parseerror-at-row-col-1-1-message-content-is-not-allowed-in-prolog"><span class="nav-number">2.1.3.</span> <span class="nav-text">Error:Failed to load project configuration: cannot parse file xxx.idea\workspace.xml: ParseError at [row,col]:[1,1] Message: Content is not allowed in prolog.</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git"><span class="nav-number">2.2.</span> <span class="nav-text">GIT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#filename-too-long-error"><span class="nav-number">2.2.1.</span> <span class="nav-text">filename too long error</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vim"><span class="nav-number">2.3.</span> <span class="nav-text">VIM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#全局替换"><span class="nav-number">2.3.1.</span> <span class="nav-text">全局替换</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#java"><span class="nav-number">3.</span> <span class="nav-text">Java</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#mock"><span class="nav-number">3.1.</span> <span class="nav-text">Mock</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#checked-exception-is-invalid-for-this-method"><span class="nav-number">3.1.1.</span> <span class="nav-text">Checked exception is invalid for this method!</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cassandra"><span class="nav-number">4.</span> <span class="nav-text">Cassandra</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cassandra-was-never-started"><span class="nav-number">4.1.</span> <span class="nav-text">Cassandra was never started</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#docker"><span class="nav-number">5.</span> <span class="nav-text">Docker</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-login"><span class="nav-number">5.1.</span> <span class="nav-text">docker login</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-demon"><span class="nav-number">5.2.</span> <span class="nav-text">docker demon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-image-没有名字"><span class="nav-number">5.3.</span> <span class="nav-text">docker image 没有名字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-for-desktop-安装"><span class="nav-number">5.4.</span> <span class="nav-text">docker for desktop 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-for-desktop-如何安装dashboard"><span class="nav-number">5.5.</span> <span class="nav-text">docker for desktop 如何安装Dashboard</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#k8s"><span class="nav-number">6.</span> <span class="nav-text">K8S</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#连不上k8s"><span class="nav-number">6.1.</span> <span class="nav-text">连不上K8S</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k8s的nodeport-service出错"><span class="nav-number">6.2.</span> <span class="nav-text">K8s的NodePort Service出错</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#nodeport-service的nodeport无法访问"><span class="nav-number">6.2.0.1.</span> <span class="nav-text">NodePort Service的NodePort无法访问</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pod不断重启"><span class="nav-number">6.3.</span> <span class="nav-text">POD不断重启</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#为何没能够更早的发现问题"><span class="nav-number">6.3.1.</span> <span class="nav-text">为何没能够更早的发现问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#周末调试"><span class="nav-number">6.3.2.</span> <span class="nav-text">周末调试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#k8s-pod重启"><span class="nav-number">6.3.3.</span> <span class="nav-text">K8S POD重启</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分析"><span class="nav-number">6.3.4.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#进展"><span class="nav-number">6.3.5.</span> <span class="nav-text">进展</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参考链接"><span class="nav-number">6.3.6.</span> <span class="nav-text">参考链接</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lynn Shen</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/hexo_blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/hexo_blog/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/hexo_blog/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/hexo_blog/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/hexo_blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
        <script src="https://billts.site/js/gitment.js"></script>
    
<!-- END LOCAL -->

    

    
      <script type="text/javascript">
      function renderGitment(){
        var gitment = new Gitment({
            id: window.location.pathname, 
            owner: 'sallyslove',
            repo: 'blog_comments',
            
            oauth: {
            
            
                client_secret: '6eefacd862f6eee016278732c7470c216afce267',
            
                client_id: '2fca3ca261d5bf6d52eb'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    







  





  

  

  

  
  

  

  

  

</body>
</html>
