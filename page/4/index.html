<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/hexo_blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/hexo_blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/hexo_blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/hexo_blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/hexo_blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/hexo_blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/hexo_blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="35å²å¼€å§‹çš„åšå®¢ï¼Œæœ‰ç‚¹æ™šå“¦">
<meta property="og:type" content="website">
<meta property="og:title" content="è·¬æ­¥">
<meta property="og:url" content="https://sallyslove.github.io/hexo_blog/page/4/index.html">
<meta property="og:site_name" content="è·¬æ­¥">
<meta property="og:description" content="35å²å¼€å§‹çš„åšå®¢ï¼Œæœ‰ç‚¹æ™šå“¦">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è·¬æ­¥">
<meta name="twitter:description" content="35å²å¼€å§‹çš„åšå®¢ï¼Œæœ‰ç‚¹æ™šå“¦">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/hexo_blog/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sallyslove.github.io/hexo_blog/page/4/">





  <title>è·¬æ­¥</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/hexo_blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">è·¬æ­¥</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œ</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/hexo_blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/hexo_blog/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/hexo_blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/02/14/Scala/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/02/14/Scala/" itemprop="url">Scala</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-02-14T10:18:49+08:00">
                2019-02-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/Scala/" itemprop="url" rel="index">
                    <span itemprop="name">Scala</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="scalaæ¦‚å¿µå¿«é€Ÿè§£é‡Š"><a class="header-anchor" href="#scalaæ¦‚å¿µå¿«é€Ÿè§£é‡Š"></a>Scalaæ¦‚å¿µå¿«é€Ÿè§£é‡Š</h2>
<ul>
<li><code>Scala</code>æœ‰å¾ˆå¤šç‰¹æœ‰çš„æ¦‚å¿µã€‚å¦‚æœè¦çœ‹æ‡‚ä»£ç å°±å¾—å¤§è‡´æ˜ç™½å«ä¹‰ï¼Œè¿™ç¯‡åšå®¢å°±æ˜¯å¿«é€Ÿè§£é‡Šä¸€ä¸‹ï¼Œå…¶ä¸­å¯èƒ½ä¼šæœ‰ä¸å¤Ÿå‡†ç¡®çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¸æ±‚ç”šè§£ï¼Œåªæ±‚è¿…é€Ÿè¯»æ‡‚<code>scala</code>ä»£ç äº†.</li>
<li>éš”äº†ä¸€æ®µæ—¶é—´åˆå¼€å§‹çœ‹<code>scala</code>çš„ä»£ç ï¼Œç»“æœå‘ç°è¿™ç¯‡åšå®¢å†™å¾—å¤ªä¸å£°æƒ…å¹¶èŒ‚äº†ã€‚<code>scala</code>è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„ã€‚è¿™ä¹ˆç®€å•å†™å‡ å¥ä¸å¤ªæˆï¼Œå¾—ç»™ä¸€ç‚¹ä¾‹å­æ‰è¡Œã€‚</li>
</ul>
<h3 id="enum"><a class="header-anchor" href="#enum"></a>Enum</h3>
<ul>
<li>ç®€å•æ¥è¯´ï¼Œå¹¶æ²¡æœ‰æšä¸¾è¿™ä¸ªç±»å‹ï¼Œä½†æ˜¯å¯ä»¥ç»§æ‰¿<code>Enumeration</code>æ¥è¾¾åˆ°æšä¸¾çš„æ•ˆæœ</li>
<li>é€šå¸¸å®šä¹‰ä¸€ä¸ª<code>object</code>æ¥ç»§æ‰¿<code>Enumeration</code></li>
<li>ä½¿ç”¨<code>Enum</code>ï¼Œç±»å‹éƒ½æ˜¯<code>Enum.Value</code></li>
<li><a href="http://kubicode.me/2015/06/06/Scala/Enum-in-Scala/" target="_blank" rel="noopener">Scalaä¸­çš„Enumï¼Œè¿™ç¯‡å¯¹æ¯”äº†ä¸€ä¸‹javaå’Œscalaçš„æšä¸¾</a></li>
</ul>
<h3 id="none"><a class="header-anchor" href="#none"></a>&lt;-</h3>
<ul>
<li>
<p><code>for</code> å¾ªç¯é‡Œé¢ç”¨çš„ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­å°±æ¯”è¾ƒæ¸…æ¥šï¼š</p>
<pre><code>for(x &lt;- 1 to 5)  println(i)

for { 
     x&lt;-1 to 5
     y&lt;-2 to 6
   } println (x,y)
</code></pre>
</li>
<li>
<p>å‚è€ƒé“¾æ¥ï¼š <a href="https://stackoverflow.com/questions/31799536/what-is-%E2%86%90-in-scala" target="_blank" rel="noopener">what-is-â†-in-scala</a></p>
</li>
</ul>
<h3 id="sealed-class"><a class="header-anchor" href="#sealed-class"></a>sealed class</h3>
<h3 id="valå’Œvarçš„åŒºåˆ«"><a class="header-anchor" href="#valå’Œvarçš„åŒºåˆ«"></a>valå’Œvarçš„åŒºåˆ«</h3>
<ul>
<li><code>val</code>å°±æ˜¯å¸¸é‡ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡</li>
<li><code>var</code>å˜é‡ï¼Œå¯ä»¥èµ‹å€¼å¤šæ¬¡</li>
<li><a href="https://www.cnblogs.com/IChing/p/7093345.html" target="_blank" rel="noopener">scalaåŸºç¡€- valå’Œvarçš„åŒºåˆ«</a></li>
</ul>
<h3 id="object"><a class="header-anchor" href="#object"></a>object</h3>
<p>çœ‹äº†å‡ ç¯‡åšå®¢ï¼Œè§£é‡Šéƒ½ä¸å¤Ÿæ¸…æ™°çš„æ„Ÿè§‰ï¼Œè¿˜æ˜¯<code>stackoverflow</code>ä¸Šé¢è§£é‡Šå¾—æ›´æ¸…æ¥š.</p>
<ul>
<li>æœ‰å¥½å‡ ç§ç”¨æ³•ï¼š
<ul>
<li>
<p>ä½œä¸º<code>static</code>å‡½æ•°çš„<code>class</code>æ–‡ä»¶ï¼Œè¿™æ˜¯æœ€å¸¸è§åˆ°çš„ç”¨æ³•ï¼š</p>
<pre><code>object A {
  def twice(i: Int): Int = 2*i
}
</code></pre>
<p>è¿™æ ·å¯ä»¥ç›´æ¥è°ƒç”¨<code>A.twice</code>ï¼Œæ²¡æœ‰å¿…è¦å…ˆå£°æ˜ä¸€ä¸ª<code>A</code>çš„å¯¹è±¡ã€‚è¿™ç§æ˜¯ç±»ä¼¼<code>java</code>é‡Œé¢çš„<code>static</code>å‡½æ•°çš„</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼š<a href="https://stackoverflow.com/questions/1755345/difference-between-object-and-class-in-scala" target="_blank" rel="noopener">difference-between-object-and-class-in-scala</a></li>
</ul>
<h3 id="trait"><a class="header-anchor" href="#trait"></a>trait</h3>
<ul>
<li><a href="http://www.runoob.com/scala/scala-traits.html" target="_blank" rel="noopener">Scala Trait(ç‰¹å¾)</a></li>
<li>ç±»ä¼¼<code>java</code>çš„<code>Interface</code>ï¼Œå…¶å®æ›´è¿‘ä¼¼äºæŠ½è±¡ç±»</li>
<li>ä½†æ˜¯å¯ä»¥ä½¿ç”¨<code>with</code>å…³é”®å­—å¤šé‡ç»§æ‰¿ï¼Œå¾ˆå¥½ç”¨çš„æ„Ÿè§‰å“¦</li>
<li><code>scala</code>æœ¬èº«è¿˜æ˜¯æœ‰<code>interface</code>å…³é”®å­—çš„ï¼Œæœ¬èº«ä¹Ÿå¯ä»¥ä½¿ç”¨<code>with</code>å…³é”®å­—æ¥å®ç°æ¥å£</li>
</ul>
<h3 id="case-class"><a class="header-anchor" href="#case-class"></a>case class</h3>
<ul>
<li><a href="https://blog.csdn.net/bluishglc/article/details/50914001" target="_blank" rel="noopener">csdnä¸Šçš„ä¸€ç¯‡æ–‡ç« </a></li>
<li>ç®€å•æ¥è¯´ï¼Œ<code>case class</code>ä¼šé»˜è®¤ç”Ÿæˆå¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚ä¼´ç”Ÿå¯¹è±¡ï¼Œæ¯”å¦‚å·¥å‚æ–¹æ³•ï¼Œæ¯”å¦‚<code>toString</code>ï¼Œ <code>copy</code>ï¼Œæ„é€ æ–¹æ³•å‚æ•°åŒåçš„å±æ€§</li>
<li>æœ€å¼€å¿ƒçš„ç”¨æ³•ï¼Œåº”è¯¥å°±æ˜¯ä¸ç”¨<code>new</code>å‡ºä¸€ä¸ªå¯¹è±¡æ¥ã€‚è€Œæ˜¯å¯ä»¥ç›´æ¥<code>methodName(æ„é€ å‡½æ•°å‚æ•°)</code>è¿™æ ·æ¥è·å–ä¸€ä¸ªå¯¹è±¡ã€‚å…¶å®æ˜¯åŒåçš„å·¥å‚æ–¹æ³•</li>
<li>è¿˜æœ‰ä¸€ä¸ªå¼€å¿ƒçš„ç”¨æ³•å°±æ˜¯<code>case class</code>å¯ä»¥ç›´æ¥ç”¨åœ¨<code>case</code>è¯­å¥é‡Œé¢è¿›è¡Œåˆ¤æ–­</li>
</ul>
<h3 id="implicit"><a class="header-anchor" href="#implicit"></a>implicit</h3>
<ul>
<li>
<p>éšå¼è½¬æ¢ã€‚ä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre><code>    def display(input:String):Unit = println(input)
    implicit def typeConvertor(input:Int):String = input.toString
    display(12)
</code></pre>
</li>
<li>
<p>æœ¬æ¥çš„è¯ï¼Œ<code>display</code>å‡½æ•°åªèƒ½æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œä½†æ˜¯åœ¨ç›¸åŒä½œç”¨åŸŸé‡Œé¢æœ‰éšå¼å‡½æ•°çš„å­˜åœ¨ï¼Œè‡ªåŠ¨å°†æ•´å‹è½¬æ¢æˆäº†å­—ç¬¦ä¸²ä¸‹ç±»å‹</p>
</li>
<li>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨ç›¸åŒä½œç”¨åŸŸé‡Œé¢ï¼Œç›¸åŒå‚æ•°ï¼Œç›¸åŒè¿”å›å€¼çš„å‡½æ•°ï¼Œå‡½æ•°åå¹¶ä¸å…³é”®ã€‚ç¡®å®ä¸å…³é”®ï¼Œåœ¨è°ƒç”¨<code>display(12)</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰è¯´ï¼Œå•Šï¼Œè¯·ç”¨éšå¼å‡½æ•°<code>typeConvertor</code></p>
</li>
<li>
<p>æ‰€ä»¥ï¼Œå¦‚æœæœ‰å¦ä¸€ä¸ªéšå¼å‡½æ•°ï¼Œä¹Ÿæ˜¯å°†æ•´å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œ<code>scala</code>ä¼šå‡ºé”™ã€‚å› ä¸ºå›ä¸çŸ¥é“ç”¨å“ªä¸€ä¸ª</p>
</li>
<li>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li><a href="https://www.cnblogs.com/rollenholt/p/4118567.html" target="_blank" rel="noopener">è¯¦å°½è§£é‡Šçš„åšå®¢ï¼Œåšä¸»å…¶ä»–åšå®¢ä¹Ÿä¸é”™</a></li>
</ul>
</li>
</ul>
<h3 id="asscala"><a class="header-anchor" href="#asscala"></a>asScala</h3>
<ul>
<li><code>import scala.collection.JavaConverters._</code></li>
<li>ç†è§£å°±æ˜¯å°†<code>Java</code>çš„ä¸€äº›ç»“æ„è‡ªåŠ¨è½¬ä¸º<code>Scala</code>çš„ç»“æ„</li>
<li>ä»¥ä¸‹å‚è€ƒé‡Œé¢å°†<code>ArrayList</code>è½¬æˆäº†<code>mutable.Buffer</code>ã€‚</li>
<li>å‚è€ƒé“¾æ¥
<ul>
<li><a href="https://blog.csdn.net/guotong1988/article/details/51454281" target="_blank" rel="noopener">asScala</a></li>
</ul>
</li>
</ul>
<h2 id="scala-code-example"><a class="header-anchor" href="#scala-code-example"></a>Scala Code Example</h2>
<h3 id="map"><a class="header-anchor" href="#map"></a>Map</h3>
<h4 id="map-foreach"><a class="header-anchor" href="#map-foreach"></a>Map.foreach</h4>
<ul>
<li>
<p><code>map</code>é‡Œé¢çš„å…ƒç´ åœ¨<code>foreach</code>çš„ç”¨æ³•æ—¶å€™ï¼Œéƒ½æ˜¯äºŒå…ƒç»„ã€‚<code>_1</code>æ˜¯é”®å€¼ï¼Œ<code>_2</code>æ˜¯èµ‹å€¼</p>
<pre><code>val m1 = Map(3 -&gt; &quot;geeks&quot;, 1 -&gt; &quot;for&quot;, 2 -&gt; &quot;cs&quot;, 6 -&gt; &quot;geeks&quot;) 

val result = m1.foreach(x =&gt; println(&quot;key=&quot; + x._1 + &quot;, value=&quot; + x._2)) 
</code></pre>
</li>
</ul>
<h3 id="how-to-call-shell-command-in-scala"><a class="header-anchor" href="#how-to-call-shell-command-in-scala"></a>how to call shell command in Scala</h3>
<ul>
<li>
<p>åœ¨<code>scala</code>é‡Œé¢è°ƒç”¨<code>shell</code>å‘½ä»¤æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œåªéœ€è¦å¼•å…¥<code>import scala.sys.process._</code>åŒ…å°±å¯ä»¥äº†</p>
<p>val path = â€œpwdâ€.!!.trim<br>
println(path)</p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/52967383/how-to-execute-shell-script-sh-file-in-scala-program" target="_blank" rel="noopener">How to execute shell script in scala</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/40129780/execute-shell-script-from-scala-application" target="_blank" rel="noopener">Execute shell script from scala application</a></p>
</li>
</ul>
<h3 id="scala-json"><a class="header-anchor" href="#scala-json"></a>Scala &amp; Json</h3>
<ul>
<li>å·¥ä½œè¿‡ç¨‹ä¸­éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯<code>JSON</code>æ ¼å¼ï¼Œæ‰€ä»¥å»å­¦ä¹ äº†è¿™ä¸ªã€‚<code>JSON</code>ä¹Ÿæ˜¯ç°åœ¨å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚å‘ƒï¼Œå› ä¸º<code>REST</code>é‡Œé¢æ˜¯<code>JSON</code>çš„ç¼˜æ•…å˜›ï¼Œåæ­£è¶Šæ¥è¶Šå¤šï¼Œæ²¡è§‰å¾—æ¯”<code>XML</code>å¥½</li>
<li>æœ‰ä¸€å †çš„<code>3pp</code>å¯ä»¥ç”¨ï¼Œæˆ‘ä»¬è‡ªå·±çš„äº§å“é‡Œé¢ä¹Ÿæœ‰å¥½å‡ ä¸ª<code>3pp</code>,åŒ…æ‹¬<code>playjson</code>å’Œ<code>gJson</code></li>
<li>è¿™ä¸ªé“¾æ¥é‡Œé¢åˆ—å‡ºäº†å¤šç§åº“ï¼š<a href="https://stackoverflow.com/questions/8054018/what-json-library-to-use-in-scala" target="_blank" rel="noopener">What JSON library to use in Scala?</a></li>
<li>æœ€åæˆ‘ä½¿ç”¨çš„æ˜¯<code>play-json</code>ï¼Œè¿™å›çš„ä»£ç å…¶å®<code>JAVA</code>å·¥ç¨‹ï¼Œä½†æ˜¯æ¶æ„åœ¨ä¸€ä¸ª<code>SBT</code>é¡¹ç›®é‡Œé¢ã€‚è€Œ<code>play-json</code>æ˜¯åŸºäº<code>jackson</code>çš„ï¼ˆå¾ˆå¤šåº“éƒ½æ˜¯åŸºäº<code>jsckson</code>çš„å°±æ˜¯äº†ï¼‰ï¼Œæ‰€ä»¥åœ¨<code>SBT</code>é‡Œé¢å¼•å…¥<code>play-json</code>ï¼Œä¹Ÿå°±å¯ä»¥åœ¨æˆ‘éœ€è¦ä¿®æ”¹çš„<code>JAVA</code>ä»£ç é‡Œé¢è°ƒç”¨<code>jackson</code>äº†</li>
</ul>
<h4 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯jsonæ ¼å¼"><a class="header-anchor" href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯jsonæ ¼å¼"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯JSONæ ¼å¼</h4>
<ul>
<li>äº‹å®ä¸Šï¼Œä¸ç®¡æ˜¯<code>java</code>è¿˜æ˜¯<code>scala</code>,éƒ½ä¸å­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªç°æˆçš„æ¥å£ã€‚</li>
<li>ç°åœ¨é€šç”¨çš„æ–¹æ³•å°±æ˜¯å°†å­—ç¬¦ä¸²è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢æˆåŠŸå°±è¯´æ˜æ˜¯ï¼ŒæŠ¥é”™å°±ä¸æ˜¯ï¼Œæˆ‘å‘µå‘µä¸€ä¸‹ã€‚</li>
<li>è¿™ä¸ªå‚è€ƒé“¾æ¥é‡Œé¢æ˜¯<code>JAVA</code>çš„ï¼Œä½†æ˜¯<code>scala</code>æ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿæ˜¯è°ƒç”¨åº“å‡½æ•°<br>
<a href="https://stackoverflow.com/questions/10174898/how-to-check-whether-a-given-string-is-valid-json-in-java" target="_blank" rel="noopener">how-to-check-whether-a-given-string-is-valid-json-in-java</a></li>
</ul>
<h3 id="actor"><a class="header-anchor" href="#actor"></a>Actor</h3>
<ul>
<li>
<p><code>actor</code>å…¶å®ä¸æ˜¯<code>scala</code>çš„æ¦‚å¿µï¼Œ<code>Linux</code>é‡Œé¢å°±æœ‰çš„ã€‚ä½†æ˜¯æ„Ÿè§‰å†™åœ¨<code>scala</code>é‡Œé¢æ¯”è¾ƒåˆé€‚ã€‚</p>
</li>
<li>
<p><a href="https://cloud.tencent.com/developer/article/1135999" target="_blank" rel="noopener">æ¼«è°ˆå¹¶å‘ç¼–ç¨‹ï¼šActoræ¨¡å‹</a>è¿™ç¯‡é‡Œé¢å…¶å®è›®æ¸…æ¥šçš„ã€‚åŸºç¡€çš„ä¸€äº›ç”¨æ³•åœ¨è¿™è¾¹çœ‹ä¸€ä¸‹ä¹Ÿå°±æ˜ç™½ä¸€äº›äº†</p>
</li>
<li>
<p>åŸºäº<code>Actor</code>çš„å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯ä¸€ä¸ª<code>actor</code>ï¼Œç±»ä¼¼é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„éƒ½æ˜¯å¯¹è±¡ä¸€æ ·ã€‚åªæ˜¯<code>Actor</code>å†å’Œ<code>Scala</code>ç»“åˆï¼Œè¿™ä¸ªå¯è¯»æ€§ï¼Œå¿…é¡»ç†Ÿæ‚‰ä»£ç çš„æ‰è¡Œã€‚</p>
</li>
<li>
<p>é¦–å…ˆæœ‰ä¸€ä¸ª<code>ActorSystem</code>ï¼Œç„¶å<code>Actor</code>æ˜¯å®¶æ—å¼çš„ï¼Œæœ‰ä¸€ä¸ªçˆ¶çš„<code>Actor</code>ï¼Œç„¶åå…¶ä»–<code>Actor</code>ç”±çˆ¶è€Œæ¥ã€‚çˆ¶<code>Actor</code>å¯ä»¥åˆ›å»ºå­<code>Actor</code>ï¼Œäº‹å®ä¸Šï¼Œæ˜¯æ•´ä¸ª<code>life cycle</code>çš„æ§åˆ¶</p>
</li>
<li>
<p>é¡¶å±‚çš„çˆ¶<code>Actor</code>ç”¨ä»¥ä¸‹è¯­å¥åˆ›å»ºã€‚<code>Props</code>é‡Œé¢çš„å°±æ˜¯<code>Actor</code>çš„ç±»çš„åå­—ï¼Œåé¢ä¸€ä¸ªå‚æ•°æ˜¯<code>Actor</code>çš„åå­—</p>
<pre><code>system.actorOf(Props[BetterMaster], &quot;master&quot;)
</code></pre>
</li>
<li>
<p>å­<code>Actor</code>åˆ›å»ºçš„æ–¹å¼æ˜¯ç±»ä¼¼çš„ï¼Œåªæ˜¯æ˜¯ç”±çˆ¶ <code>Actor</code>åˆ›å»ºçš„ã€‚çˆ¶<code>Actor</code>å†…éƒ¨ï¼Œé€šè¿‡è°ƒç”¨<code>ActorContext</code>çš„<code>actorOf()</code>æ–¹æ³•æ¥åˆ›å»ºå®ƒè‡ªèº«çš„<code>child actor</code>ã€‚å’Œçˆ¶<code>Actor</code>ä¸€æ ·ï¼Œå‚æ•°æ˜¯<code>Actor</code>çš„å®ç°çš„ç±»çš„åå­—å’Œ<code>Actor</code>çš„åå­—ã€‚</p>
</li>
</ul>
<pre><code>	context.actorOf(Props[BetterTalker], &quot;talker&quot;)
</code></pre>
<ul>
<li><code>Actor</code>æœ¬èº«æ˜¯<code>TRAIT</code>ï¼Œ<code>preStart</code>ä¸<code>postStop</code>æ˜¯å¾ˆé‡è¦çš„æ–¹æ³•ã€‚è¿™æ ·ï¼Œé€šè¿‡è¿™äº›å‡½æ•°ï¼Œå¯ä»¥æ§åˆ¶ä¸€ä¸ª<code>Actor</code>çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨æˆ‘ä»¬çš„ä»£ç é‡Œé¢é€šè¿‡é‡è½½çˆ¶<code>Actor</code>çš„<code>preStart</code>æ–¹æ³•ï¼Œæ¥æ§åˆ¶äº†æ•´ä¸ª<code>Actor System</code></li>
</ul>
<h4 id="tell"><a class="header-anchor" href="#tell"></a>tell</h4>
<ul>
<li><code>tell</code>å…¶å®æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯<code>!</code>ï¼Œçœ‹åˆ°è¿™æ„Ÿå¹å·ç®€ç›´æ˜¯ ğŸ˜‚ è¿™éƒ½ä¸ªå¯è¯»æ€§åªèƒ½OMGäº†ã€‚</li>
<li><a href="https://stackoverflow.com/questions/49649745/what-is-the-second-argument-of-the-actorref-tell-method" target="_blank" rel="noopener">tell<br>
çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¹²å˜›çš„</a></li>
<li><code>tell</code>æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ¶ˆæ¯ï¼Œç¬¬äºŒä¸ªæ˜¯å›è°ƒçš„<code>Actor</code>ï¼Œå°±æ˜¯è¯´æ”¶åˆ°æ¶ˆæ¯çš„<code>Actor</code>å¯ä»¥ç»™ç¬¬äºŒä¸ªå‚æ•°(ä¹Ÿæ˜¯ä¸ª<code>Actor</code>)å‘é€æ¶ˆæ¯ï¼Œæ¥å‘Šè¯‰å®ƒè‡ªå·±æ”¶åˆ°äº†ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„æ¶ˆæ¯ã€‚åŒæ—¶æ”¶åˆ°æ¶ˆæ¯çš„<code>Actor</code>ä¹Ÿä¼šè®¤ä¸ºæ¶ˆæ¯æ˜¯ç¬¬äºŒä¸ªå‚æ•°å‘æ¥çš„ã€‚</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/28/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/28/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-28T16:21:54+08:00">
                2019-01-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="quick-start"><a class="header-anchor" href="#quick-start"></a>Quick Start</h2>
<h3 id="create-a-new-post"><a class="header-anchor" href="#create-a-new-post"></a>Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="run-server"><a class="header-anchor" href="#run-server"></a>Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="generate-static-files"><a class="header-anchor" href="#generate-static-files"></a>Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="deploy-to-remote-sites"><a class="header-anchor" href="#deploy-to-remote-sites"></a>Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/21/Cassandraæ•°æ®ç»“æ„/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/21/Cassandraæ•°æ®ç»“æ„/" itemprop="url">Cassandraæ•°æ®ç»“æ„</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-21T15:35:56+08:00">
                2019-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/cassandra/" itemprop="url" rel="index">
                    <span itemprop="name">cassandra</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="cassandra-æ•°æ®ç»“æ„"><a class="header-anchor" href="#cassandra-æ•°æ®ç»“æ„"></a>Cassandra æ•°æ®ç»“æ„</h2>
<p>å¿…é¡»äº†è§£Cassandraçš„æ•°æ®ç»“æ„ã€‚æœ¬èº«å¹¶ä¸æ˜¯å¤šä¹ˆå¤æ‚ï¼Œè€Œä¸”æœ‰è¶³å¤Ÿå¤šçš„æ–‡æ¡£ï¼Œæ‰€ä»¥ç®€å•å†™ä¸€ä¸‹ã€‚</p>
<h3 id="keyspace"><a class="header-anchor" href="#keyspace"></a>KeySpace</h3>
<ul>
<li>å¥½åƒæ²¡å•¥éœ€è¦è§£é‡Šçš„ã€‚</li>
<li>åœ¨è®ºæ–‡é‡Œé¢çœ‹åˆ°è¯´namespaceçš„å¦ä¸€ä¸ªä½œç”¨æ˜¯å¯ä»¥åšæ•°æ®é‡å¤ã€‚</li>
</ul>
<h3 id="column"><a class="header-anchor" href="#column"></a>Column</h3>
<ul>
<li>Columnæ˜¯Cassandraä¸­æœ€å°çš„æ•°æ®å•å…ƒï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸‰å…ƒçš„æ•°æ®ç±»å‹ï¼ŒåŒ…å«name,value,timestamp.</li>
<li>nameæ˜¯å¿…é¡»çš„ï¼Œvalueä¸æ˜¯å¿…é¡»çš„ï¼Œtimestampç»å¸¸å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œå¦‚ä¸‹å›¾<br>
<img src="https://raw.githubusercontent.com/sallyslove/Pictures/master/Cassandra/cassandra_column.png" alt="å¼•ç”¨è‡ªç¬¬ä¸€ç¯‡å‚è€ƒé“¾æ¥"></li>
</ul>
<blockquote>
<p>å¼•ç”¨è‡ªcsdn</p>
</blockquote>
<h3 id="super-column"><a class="header-anchor" href="#super-column"></a>Super Column</h3>
<ul>
<li>å¯ä»¥å°†SuperColumnæƒ³è±¡æˆColumnçš„æ•°ç»„ï¼Œå®ƒåŒ…å«ä¸€ä¸ªnameä»¥åŠä¸€ç³»åˆ—Column.</li>
<li>SuperColumnæœ¬èº«ä¸åŒ…å«timestampå±æ€§ã€‚ä½¿ç”¨SuperColumnæœ‰ä¸€ä¸ªé™åˆ¶ï¼Œè¦è¯»å–å…¶ä¸­ä¸€ä¸ªå­åˆ—çš„å€¼ï¼Œå¿…é¡»æŠŠæ‰€æœ‰å­åˆ—éƒ½ååºåˆ—åŒ–ï¼Œä¸”ä¸èƒ½åœ¨å­åˆ—ä¸­å»ºç´¢å¼•<br>
<img src="https://raw.githubusercontent.com/sallyslove/Pictures/master/Cassandra/cassandra_super_column.png" alt></li>
</ul>
<blockquote>
<p>å¼•ç”¨è‡ªcsdn</p>
</blockquote>
<ul>
<li>
<p>å‚è€ƒé“¾æ¥é‡Œé¢æœ‰ä»¥ä¸‹çš„ä¾‹å­</p>
<pre><code> {   // è¿™æ˜¯ä¸€ä¸ªSuperColumn
     name: &quot;info&quot;,
     // åŒ…å«ä¸€ç³»åˆ—çš„Columns
     value: {
        street: {name: &quot;street&quot;, value: &quot;1234 x street&quot;, timestamp: 123456789},
        city: {name: &quot;city&quot;, value: &quot;san francisco&quot;, timestamp: 123456789},
        zip: {name: &quot;zip&quot;, value: &quot;94107&quot;, timestamp: 123456789},
  }
}
</code></pre>
</li>
</ul>
<h3 id="columnfamily"><a class="header-anchor" href="#columnfamily"></a>ColumnFamily</h3>
<ul>
<li>
<p><code>columnFamily</code>ç›¸å½“äºæ•°æ®åº“ä¸­çš„è¡¨</p>
</li>
<li>
<p>æ¯ä¸€è¡Œæœ‰ä¸€ä¸ª<code>row</code>çš„åå­—ï¼Œç„¶åæ¯ä¸€è¡Œé‡Œé¢æ˜¯ä¸€ä¸ªä¸ªçš„<code>column</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯<code>super column</code></p>
</li>
<li>
<p><code>ColumnFamily</code>æ˜¯ä¸€ä¸ªåŒ…å«äº†è®¸å¤š<code>Row</code>çš„ç»“æ„ï¼Œæ¯ä¸€ä¸ª<code>Row</code>éƒ½åŒ…å«æœ‰clientæä¾›çš„Keyä»¥åŠå’Œè¯¥Keyå…³è”çš„ä¸€ç³»åˆ—Columnã€‚</p>
</li>
<li>
<p>æ¯ä¸€è¡Œé‡Œé¢çš„<code>column</code>çš„åå­—å¯ä»¥æ˜¯ä¸å˜çš„ã€‚ä¹Ÿå¯ä»¥æ˜¯å¯å˜çš„ã€‚é™æ€å’ŒåŠ¨æ€column</p>
</li>
<li>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®å†™å…¥çš„æ—¶å€™å·²ç»ç»è¿‡æ’åºäº†ã€‚å°±æ˜¯è¯´ä¸€è¡Œçš„æ‰€æœ‰<code>column</code>ï¼Œä¼šæ ¹æ®å®ƒçš„åå­—æ¥è¿›è¡Œæ’åºã€‚</p>
</li>
<li>
<p>ç¬¬äºŒä¸ªå‚è€ƒé“¾æ¥é‡Œé¢çš„ä¾‹å­ï¼š</p>
</li>
</ul>
<pre><code>   UserProfile = { // è¿™æ˜¯ä¸€ä¸ªColumnFamily
        phatduckk: {   // è¿™æ˜¯å¯¹åº”ColumnFamilyçš„key
            // è¿™æ˜¯Keyä¸‹å¯¹åº”çš„Column
            username: &quot;gpcuster&quot;,
            email: &quot;gpcuster@gmail.com&quot;,
            phone: &quot;6666&quot;
        }, // ç¬¬ä¸€ä¸ªrowç»“æŸ
        ieure: {   // è¿™æ˜¯ColumnFamilyçš„å¦ä¸€ä¸ªkey
          //è¿™æ˜¯å¦ä¸€ä¸ªKeyå¯¹åº”çš„column
          username: &quot;pengguo&quot;,
          email: &quot;pengguo@live.com&quot;,
          phone: &quot;888&quot;
        }
</code></pre>
<p><img src="https://raw.githubusercontent.com/sallyslove/Pictures/master/Cassandra/cassandra_column_family.png" alt></p>
<blockquote>
<p>å¼•ç”¨è‡ªç¬¬ä¸€ç¯‡å‚è€ƒé“¾æ¥æ–‡æ¡£</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/sallyslove/Pictures/master/Cassandra/cassandra_storage_picture.png" alt></p>
<blockquote>
<p>å¼•ç”¨è‡ªç¬¬äºŒç¯‡å‚è€ƒé“¾æ¥æ–‡æ¡£</p>
</blockquote>
<h3 id="å¯¹åº”åˆ°è¡¨çš„å®šä¹‰é‡Œé¢"><a class="header-anchor" href="#å¯¹åº”åˆ°è¡¨çš„å®šä¹‰é‡Œé¢"></a>å¯¹åº”åˆ°è¡¨çš„å®šä¹‰é‡Œé¢</h3>
<p>ç›®å‰å¯¹äºè¡¨ç»“æ„çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼Œå¯èƒ½åé¢æœ‰æ›´æ­£ï¼š</p>
<ul>
<li>å¦‚æœç”¨<code>desc tables</code>å»æŸ¥çœ‹ä¸€å¼ è¡¨ã€‚é‚£ä¹ˆå¯ä»¥çœ‹åˆ°primaryKeyå­—æ ·ï¼Œç±»ä¼¼<code>PRIMARY KEY ()</code>ï¼Œè¿˜æœ‰<code>CLUSTERING ORDER</code> å­—æ ·</li>
<li><strong><em>é‚£ä¹ˆè¿™ä¸ªprimary keyå°±æ˜¯å¯¹åº”æ•°æ®æ¨¡å‹é‡Œé¢çš„rowçš„åå­—ã€‚ä¹Ÿå°±æ˜¯super columnçš„åå­—ã€‚åªä¸è¿‡è¿™ä¸ªåå­—æ˜¯å‡ ä¸ªprimaryKeyè”åˆèµ·æ¥ç»„æˆçš„ã€‚ï¼Ÿ</em></strong></li>
<li><code>primaryKey</code>å¯ä»¥ç”¨æ¥æŸ¥è¯¢æ•°æ®ã€‚<code>primary key</code>åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†<code>partition key</code>å’Œ<code>clustering key</code>ï¼Œ å‰è€…ç»„åˆèµ·æ¥å†³å®šä¸€ä¸ªæ•°æ®çš„å­˜å‚¨åœ¨å“ªä¸ª<code>node</code>ä¸Šé¢, åè€…ä¼šç”¨æ¥æ’åºã€‚è€Œ <code>CLUSTERING ORDER</code>å†³å®šæ’åºæ—¶å€™ä½¿ç”¨çš„å‚æ•°çš„é¡ºåº</li>
<li>æŸ¥è¯¢æ˜¯æ—¶å€™å¿…é¡»ç»™å‡ºæ‰€æœ‰çš„<code>partition key</code>ï¼Œä¹‹å‰æœ‰è¿‡<code>ALLOW FILTERING</code>çš„å­—æ®µæ¥å®¹å¿ç¼ºå¤±<code>partition key</code>ï¼Œç°åœ¨æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½äº†ã€‚</li>
</ul>
<p>å¦‚ä¸‹ï¼š</p>
<pre><code>PRIMARY KEY ((race_year, race_name), rank)
</code></pre>
<p>è¿™é‡Œçš„<code>race_year</code>å’Œ<code>race_name</code>å°±æ˜¯ç»„åˆçš„<code>partition key</code>,è€Œ<code>rank</code>å°±æ˜¯<code>a clustering column</code>ï¼Œç”¨æ¥æ’åºçš„</p>
<ul>
<li>ä¹Ÿå¯èƒ½çœ‹åˆ°<code>CLUSTERING ORDER BY</code>çš„å­—æ ·é‡Œé¢ï¼Œæœ‰<code>ASC</code>ï¼Œä»£è¡¨å‡åºæ’åºï¼Œå¯ä»¥æŒ‡å®šä¸º<code>DESC</code>é™åºæ’åº</li>
<li>åœ¨3.0çš„ç‰ˆæœ¬ä¹‹å‰ï¼Œè¿˜å¯èƒ½çœ‹åˆ°<code>COMPACT STORAGE</code>ï¼Œç°åœ¨å·²ç»æ²¡æœ‰å•¦ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸å†™äº†ã€‚</li>
</ul>
<h3 id="data-moduling"><a class="header-anchor" href="#data-moduling"></a>data moduling</h3>
<ul>
<li>æœ€è¿‘çœ‹äº†ä¸€äº›å…³äºå»ºæ¨¡çš„æ–‡ç« ã€‚æ–‡ç« é‡Œé¢ä¸€äº›åå¤å¼ºè°ƒçš„äº‹å¦‚ä¸‹ï¼š
<ul>
<li><code>cassandra</code>ä¸åŒäºå…¶ä»–æ•°æ®åº“çš„æ˜¯ï¼Œå®ƒå†™çš„æˆæœ¬ä½ï¼Œè¯»çš„æˆæœ¬é«˜ã€‚</li>
<li>åŸºäºè¿™ä¸€ç‚¹ï¼Œå¿…é¡»åœ¨ä¸€å¼€å§‹å…ˆè€ƒè™‘<code>query</code>çš„éœ€æ±‚ï¼Œç„¶åæ•°æ®å¯ä»¥<code>duplicated</code>ã€‚è€Œåœ¨å…³ç³»æ•°æ®åº“å»ºæ¨¡æ—¶å€™ï¼Œå®Œå…¨æ˜¯ä¸ä¸€æ ·çš„ã€‚</li>
<li>åŸºäº<code>cassandra</code>çš„å†™å’Œå­˜å‚¨çš„æ–¹å¼ï¼Œéœ€è¦è¯»å–çš„æ•°æ®åº”è¯¥æ”¾åœ¨åŒä¸€ä¸ª<code>partition</code>é‡Œé¢ã€‚</li>
<li>æ–‡ç« é‡Œé¢çš„è¿™å¥è¯è¯´æ˜äº†<code>partition</code>çš„å®šä¹‰å’Œé‡è¦æ€§ï¼š</li>
</ul>
<blockquote>
<p>a set of rows that share a partition key is called a partition<br>
Cassandra is a partitioned row store with tunable consistency.<br>
You perform several optimizations in the physical data modeling stage, including the specifying of partition sizes and ordering.</p>
</blockquote>
</li>
</ul>
<h3 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://blog.csdn.net/aesop_wubo/article/details/20289837" target="_blank" rel="noopener">æ•°æ®æ¨¡å‹</a></li>
<li><a href="http://www.cnblogs.com/gpcuster/archive/2010/03/12/1684072.html" target="_blank" rel="noopener">å¤§è¯Cassandraæ•°æ®æ¨¡å‹</a></li>
<li><a href="https://stackoverflow.com/questions/24949676/difference-between-partition-key-composite-key-and-clustering-key-in-cassandra" target="_blank" rel="noopener">primary key partition key and clustering key</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/21/Cassandraè¯»æ•°æ®è¿‡ç¨‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/21/Cassandraè¯»æ•°æ®è¿‡ç¨‹/" itemprop="url">Cassandraè¯»æ•°æ®è¿‡ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-21T15:35:32+08:00">
                2019-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/cassandra/" itemprop="url" rel="index">
                    <span itemprop="name">cassandra</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="cassandraè¯»æ•°æ®è¿‡ç¨‹"><a class="header-anchor" href="#cassandraè¯»æ•°æ®è¿‡ç¨‹"></a>Cassandraè¯»æ•°æ®è¿‡ç¨‹</h2>
<p>æ•°æ®åº“è¯»æ•°æ®è¿‡ç¨‹å¿…é¡»çŸ¥é“ã€‚</p>
<h3 id="å¤§è‡´çš„è¯»æµç¨‹"><a class="header-anchor" href="#å¤§è‡´çš„è¯»æµç¨‹"></a>å¤§è‡´çš„è¯»æµç¨‹</h3>
<p><img src="https://docs.datastax.com/en/archived/cassandra/3.0/cassandra/images/dml_caching-reads_12.png" alt="å®˜æ–¹è¯»æµç¨‹å›¾ç‰‡"></p>
<blockquote>
<p>å®˜æ–¹è¯»æµç¨‹å›¾ç‰‡</p>
</blockquote>
<ul>
<li>
<p>Check the memtable</p>
</li>
<li>
<p>Check row cache, if enabled</p>
</li>
<li>
<p>Checks Bloom filter</p>
</li>
<li>
<p>Checks partition key cache, if enabled</p>
</li>
<li>
<p>Goes directly to the compression offset map if a partition key is found in the partition key cache, or checks the partition summary if not<br>
If the partition summary is checked, then the partition index is accessed</p>
</li>
<li>
<p>Locates the data on disk using the compression offset map</p>
</li>
<li>
<p>Fetches the data from the SSTable on disk</p>
</li>
<li>
<p>åœ¨å­˜è´®æ•°æ®çš„æ—¶å€™ï¼Œ<code>Cassandra</code>ä¼šè®²åŒæ ·çš„æ•°æ®å­˜å‚¨å¾ˆå¤šä»½ï¼Œè¿™ä¸ªåœ¨å†™çš„æ—¶å€™å·²ç»æåŠè¿‡ã€‚</p>
</li>
<li>
<p>åœ¨è¯»çš„æ—¶å€™è¯»å‡ ä¸ªèŠ‚ç‚¹åŒæ ·æ˜¯ç”±å¤åˆ¶å› å­å’Œ<code>consistency level</code>ç­–ç•¥å†³å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´å†™å‡ ä¸ªï¼Œè¯»å‡ ä¸ªã€‚</p>
</li>
</ul>
<h3 id="caches"><a class="header-anchor" href="#caches"></a>Caches</h3>
<p>è¿™ç¯‡ä¹Ÿä½œä¸º<code>KeyCache</code>å’Œ<code>RowCache</code>å­¦ä¹ çš„blog.<br>
<code>RowCache</code>ç¼“å­˜çš„æ˜¯æ•°æ®ï¼Œè€Œ<code>KeyCache</code>ç¼“å­˜çš„æ˜¯åœ¨<code>SSTable</code>æ–‡ä»¶ä¸­çš„ä½ç½®ã€‚<br>
<code>Cassandra</code>è¯»æ•°æ®æ…¢ï¼Œå†™æ•°æ®å¿«ã€‚</p>
<p>ä»¥ä¸‹å‡ ç§<code>cache</code>éƒ½æ˜¯é’ˆå¯¹<code>SSTable</code>æ¥è¯´çš„</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li><a href="https://stackoverflow.com/questions/25079311/difference-between-cassandra-row-caching-and-partition-key-caching" target="_blank" rel="noopener">row cache å’Œ key cache</a></li>
</ul>
<h4 id="keycache"><a class="header-anchor" href="#keycache"></a>keyCache</h4>
<ul>
<li>key cacheï¼šstores a map of partition keys to row index entriesã€‚stores a cache of the partition index in off-heap memory</li>
<li><em>partition key cache, caches the partition index for an SSTable</em></li>
<li>ä¹Ÿåœ¨<code>off-heap</code>é‡Œé¢</li>
<li><code>key_cache_size_in_mb</code>ï¼š <em>set the maximum size of the key cache for all tables in a database.</em></li>
</ul>
<p><img src="%5Chexo_blog%5Cimages%5Cpasted-4.png" alt="upload successful"></p>
<h4 id="rowcache"><a class="header-anchor" href="#rowcache"></a>rowCache</h4>
<ul>
<li><em>caches frequently accessed rows to speed up access to those rows.</em></li>
<li>ä¸æ˜¯é»˜è®¤å¼€çš„ï¼Œ<em>In Cassandra 2.2 and later, it is stored in fully off-heap memory using a new implementation that relieves garbage collection pressure in the JVM.</em> åœ¨2.2ä¹‹åï¼Œä¼šå°†è¿™äº›è¡Œå­˜è¿›éæ ˆçš„å†…å­˜é‡Œé¢ï¼Œä½¿å¾—ç³»ç»Ÿä¸éœ€è¦è¿›è¡Œ<code>GC</code></li>
<li>å½“å­˜åœ¨å†…å­˜ä¸­çš„è¡Œè¢«æ›´æ–°ä¹‹åï¼Œè¿™ä¸€è¡Œä¼šè¢«åˆ é™¤ï¼Œç›´åˆ°å†æ¬¡è¯»å–</li>
<li>åŒæ ·ï¼Œå½“ä¸€ä¸ª<code>partition</code>è¢«æ›´æ–°äº†ï¼Œè¿™ä¸ª<code>partition</code>ä¼šè¢«ä»å†…å­˜é‡Œé¢åˆ é™¤</li>
<li>å‚æ•°ï¼š
<ul>
<li><code>rows_per_partition</code>ï¼š<em>set the number of rows the database must cache in a partition.This attribute has three values: ALL, NONE, and N.</em></li>
</ul>
</li>
</ul>
<h4 id="counter-cache"><a class="header-anchor" href="#counter-cache"></a>counter cache</h4>
<ul>
<li>A counter cache improves performance for the counters that youâ€™ll need to access frequently. å¥½åƒæ²¡æ€ä¹ˆå¬è¯´è¿‡counterçš„æ¦‚å¿µã€‚è¿™ä¸ªcacheä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çœ‹åˆ°æœ‰ã€‚</li>
</ul>
<h4 id="bloom-filters"><a class="header-anchor" href="#bloom-filters"></a>bloom filters</h4>
<ul>
<li><code>Bloom Filters</code> å°±æ˜¯åœ¨å†™<code>ssTable</code>æ—¶å€™åŒæ—¶å†™çš„<code>filter.db</code>æ–‡ä»¶ã€‚ä½†æ˜¯å®é™…æ˜¯è¯»çš„æ—¶å€™ç”¨çš„ä¸€ä¸ªæœºåˆ¶</li>
<li>è¯»çš„æ—¶å€™ä¼šç”¨è¿™ä¸ªæœºåˆ¶æ¥çœ‹ä¸€ä¸ªæ•°æ®keyæ˜¯ä¸æ˜¯åœ¨æŸä¸ª<code>SSTable</code>é‡Œé¢ã€‚å½“filterè¡¨ç¤ºä¸åœ¨ï¼Œè‚¯å®šæ˜¯ä¸åœ¨ï¼›ä½†æ˜¯è¯´åœ¨ï¼Œå¯èƒ½ä¸åœ¨ã€‚å°±æ˜¯è¯´å¯èƒ½å‡ç»¿çš„ã€‚ä¹Ÿä¼šç»™å‡ºä¸€ä¸ªæ¦‚ç‡å€¼ï¼ŒæŸä¸ª<code>partition</code>åœ¨ä¸åœ¨è¿™ä¸ª<code>SSTable</code>é‡Œé¢</li>
<li>å‡ç»¿çš„æ¦‚ç‡æ˜¯ä¸‡åˆ†ä¹‹ä¸€</li>
<li>å¯ä»¥é…ç½®<code>bloom_filter_fp_chance</code>æ¥é™ä½å‡ç»¿ï¼Œä½†æ˜¯ä¼šå æ›´å¤šå†…å­˜</li>
<li><code>Bloom Filters</code> ä¹Ÿæ˜¯å­˜å‚¨åœ¨<code>off-heap</code> memoryé‡Œé¢çš„ã€‚å¹¶ä¸”æ˜¯æ¯å¼ <code>SSTable</code>éƒ½æœ‰ä¸€ä¸ªçš„</li>
<li><em>A Bloom filter can establish that a SSTable does not contain certain partition data.</em></li>
<li>å‚è€ƒé“¾æ¥ï¼š
<ul>
<li><a href="https://blog.csdn.net/u010900754/article/details/78307808" target="_blank" rel="noopener">bloom è¿‡æ»¤å™¨</a></li>
<li><a href="https://blog.csdn.net/jiaomeng/article/details/1495500" target="_blank" rel="noopener">ç®—æ³•åŸç†</a></li>
<li><a href="https://blog.csdn.net/nangongyanya/article/details/54089568" target="_blank" rel="noopener">Cassandra Bloom è¿‡æ»¤å™¨</a></li>
</ul>
</li>
</ul>
<h4 id="partition-summary-partition-index"><a class="header-anchor" href="#partition-summary-partition-index"></a>Partition Summary &amp; Partition Index</h4>
<ul>
<li><code>partition index</code>æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šé¢çš„æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯_an index of all partition keys mapped to their offset._</li>
<li><code>partition summary</code>æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„<code>partition index</code>çš„é‡‡æ ·ã€‚ä¹Ÿæ˜¯åœ¨<code>off-heap</code>é‡Œé¢çš„ã€‚ä¹Ÿå°±æ˜¯å‡ ä¹æ‰€æœ‰å¸®åŠ©è¯»çš„æœºåˆ¶éƒ½å­˜åœ¨<code>off-heap</code>çš„å†…å­˜é‡Œé¢</li>
<li><code>partition summary</code>çš„é‡‡æ ·å­˜å‚¨ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾å› å­æ˜¯20ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬ä¸€ä¸ªå’Œç¬¬20ä¸ªçš„åç§»é‡è¢«å­˜å‚¨äº†ã€‚</li>
<li>å¦‚æœåœ¨è¯»çš„æ—¶å€™å¿…é¡»è¯»åˆ°<code>partition summary</code>ï¼Œé‚£ä¹ˆæ•´ä¸ªè¯»çš„è¿‡ç¨‹ä¼šæœ‰ä¸¤æ¬¡è®¿é—®ç£ç›˜</li>
</ul>
<h3 id="gossip-protocal"><a class="header-anchor" href="#gossip-protocal"></a>Gossip Protocal</h3>
<h3 id="limit"><a class="header-anchor" href="#limit"></a>Limit</h3>
<ul>
<li><code>Cassandra</code>æ ¹æ®<code>primary key</code>æ¥è¯»å–æ•°æ®ï¼Œè¿™ä¸ª<code>key</code>å°±æ˜¯å­˜åœ¨<code>keyCache</code>é‡Œé¢çš„å†…å®¹ã€‚ç„¶åä¼šè¯»å–ä¸€ç‰‡æ•°æ®ã€‚<em>è¿™é‡Œç†è§£æ­£ç¡®å—ï¼Ÿ<code>keyCache</code>é‡Œé¢çš„ä¸æ˜¯<code>partition index</code>é‡Œé¢çš„å†…å®¹å—ï¼Ÿ</em></li>
<li>è¯»å–æ—¶å€™å¯ä»¥æŒ‡å®š<code>limit</code>å€¼ï¼Œè¿™æ ·ä¼šè¯»å–æœ‰é™çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ä¸€å¤§ç‰‡ã€‚</li>
</ul>
<h3 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li>éå¸¸è¯¦å°½æ¸…æ™°çš„ä¸€ç¯‡æ–‡æ¡£ï¼š<a href="https://www.oschina.net/question/12_11855" target="_blank" rel="noopener">Cassandraæ•°æ®ç»“æ„å’Œå†™å…¥è¯»å–</a></li>
<li><a href="https://docs.datastax.com/en/archived/cassandra/3.0/cassandra/dml/dmlAboutReads.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£è¯»æµç¨‹</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/18/Java-GC-æœºåˆ¶-CMS-G1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/18/Java-GC-æœºåˆ¶-CMS-G1/" itemprop="url">Java GC æœºåˆ¶ CMS & G1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-18T14:04:17+08:00">
                2019-01-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="java-gc-æœºåˆ¶-cms-g1"><a class="header-anchor" href="#java-gc-æœºåˆ¶-cms-g1"></a>Java GC æœºåˆ¶ CMS &amp; G1</h2>
<p>åœ¨çœ‹Cassandraçš„è¿‡ç¨‹ä¸­çœ‹åˆ°äº†GCçš„æœºåˆ¶ï¼Œåœ¨Cassandraä¸­æ˜¯å¯é…çš„ã€‚GCå¯¹äºCassandraçš„æ€§èƒ½è‚¯å®šæ˜¯æœ‰å½±å“çš„ã€‚<br>
æ‰€ä»¥é¦–å…ˆå­¦ä¹ è¿™ä¸¤ä¸ªGCæœºåˆ¶ã€‚å› ä¸ºæ¯•ç«Ÿæ˜¯ä¸ºäº†Cassandraæ¥çœ‹ï¼Œæ‰€ä»¥ä¼šç›´æ¥çœ‹çœ‹ä¸¤ç§æœºåˆ¶ã€‚</p>
<h3 id="java-heapåˆ†åŒº"><a class="header-anchor" href="#java-heapåˆ†åŒº"></a>Java Heapåˆ†åŒº</h3>
<ul>
<li>Heapçš„Capacityç­‰äº-Xmså’Œ-Xmxçš„å€¼, Xmsæ˜¯åˆå§‹åŒ–çš„heap sizeï¼ŒXmxæ˜¯æœ€å¤§çš„heap sizeï¼Œè¿™ä¸¤ä¸ªç»å¸¸æ˜¯ä¸€æ ·å¤§çš„</li>
<li>å¹´è½»ä»£çš„GCï¼šå­˜æ´»å¯¹è±¡ä¼šè¢«æ‹·è´/ç§»åŠ¨åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªâ€œSurvivorâ€åŒºåŸŸï¼Œå­˜æ´»æ—¶é—´å¤Ÿé•¿çš„ç›´æ¥ç§»åˆ°â€œè€å¹´ä»£â€åŒºåŸŸã€‚è¿™é‡Œä¼šstop the worldï¼Œä½†young GCçš„è¿‡ç¨‹æ˜¯å¤šçº¿ç¨‹æ‰§è¡Œçš„</li>
<li>Youngä¸­åˆ†æˆEdenå’ŒSurvivorï¼Œå…¶ä¸­Edenå’ŒSurvivoræ˜¯æˆæ¯”ä¾‹çš„</li>
</ul>
<h3 id="cms"><a class="header-anchor" href="#cms"></a>CMS</h3>
<ul>
<li><code>CMS</code>ï¼š Concurrent Low Pause Collector</li>
<li>CMSæ˜¯Java GCä½¿ç”¨çš„ç®—æ³•ï¼Œæ˜¯è€å¹´ä»£çš„å›æ”¶ã€‚éœ€è¦æ­é…ä¸€ä¸ªå¹´è½»ä»£å›æ”¶çš„å›æ”¶å™¨</li>
<li>CMSçš„å‚æ•°CMSInitiatingOccupancyFractionï¼Œ åœ¨old generationçš„å¤§å°è¾¾åˆ°è¿™ä¸ªé—¨é˜€å€¼çš„æ—¶å€™ï¼Œä¼šå¼•èµ·ä¸€æ¬¡full GC</li>
<li>Cassandaraé»˜è®¤ä½¿ç”¨çš„ç®—æ³•æ˜¯CMS GC</li>
</ul>
<h3 id="g1"><a class="header-anchor" href="#g1"></a>G1</h3>
<h3 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://www.cnblogs.com/hunrry/p/9210022.html" target="_blank" rel="noopener">å¸¸è§GCç®—æ³•é€Ÿè§ˆ</a></li>
<li><a href="https://www.jianshu.com/p/bdd6f03923d1" target="_blank" rel="noopener">G1 vs CMS</a></li>
<li><a href="https://www.tuicool.com/articles/Jj2yAbb" target="_blank" rel="noopener">CMS</a></li>
<li>è¿™ç¯‡æ–‡æ¡£å¯¹æ¯”å¾—éå¸¸å¥½ï¼Œç»†èŠ‚å¾ˆå¤š<br>
<a href="https://www.tuicool.com/articles/QZfiAzz" target="_blank" rel="noopener">Cassandraä¸­CMS vs G1</a></li>
<li><a href="https://plumbr.io/blog/garbage-collection/minor-gc-vs-major-gc-vs-full-gc" target="_blank" rel="noopener">minor GC &amp; major Gc &amp; full GC</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/17/Cassandra-å†™æ•°æ®è¿‡ç¨‹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/17/Cassandra-å†™æ•°æ®è¿‡ç¨‹/" itemprop="url">Cassandra å†™æ•°æ®è¿‡ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-17T16:37:00+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/cassandra/" itemprop="url" rel="index">
                    <span itemprop="name">cassandra</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="cassandra-å†™æµç¨‹"><a class="header-anchor" href="#cassandra-å†™æµç¨‹"></a>Cassandra å†™æµç¨‹</h2>
<h3 id="å¤§è‡´æµç¨‹"><a class="header-anchor" href="#å¤§è‡´æµç¨‹"></a>å¤§è‡´æµç¨‹</h3>
<p>åˆ°æŠŠæ•°æ®å†™åˆ°ç£ç›˜ä¸­åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>å…ˆæ‰¾åˆ°åº”è¯¥å¾€å“ªå‡ ä¸ªèŠ‚ç‚¹å†™</li>
<li>å†™logåˆ°commit log</li>
<li>å†™æ•°æ®åˆ°memtable</li>
<li>ä»memtableä¸­flushæ•°æ®</li>
<li>å°†æ•°æ®å­˜å‚¨åœ¨SSTablesä¸­çš„ç£ç›˜ä¸­</li>
</ol>
<ul>
<li>å®¢æˆ·ç«¯å†™ä¸€æ¡æ•°æ®å¿…é¡»æŒ‡å®š Keyspaceã€ColumnFamilyã€Keyã€Column Name å’Œ Valueï¼Œè¿˜å¯ä»¥æŒ‡å®š Timestampï¼Œä»¥åŠæ•°æ®çš„å®‰å…¨ç­‰çº§ã€‚<strong><em>è¿™ä¸ªkeyåˆæ˜¯ä»€ä¹ˆkeyå‘¢ï¼Œpartition Key, primary Key,æ˜¯åæ–‡è¯´æ ¹æ®keyç®—å‡ºtokenï¼Œç„¶åå†æ ¹æ®tokenç®—å‡ºpartition Indexçš„</em></strong></li>
</ul>
<pre><code>Cassandra Node ---&gt;Commitlog---&gt; Memtable

Commitlog ---&gt; Periodically sync to  disk

Memtable  ---&gt; Periodically flush to SSTable
</code></pre>
<p><strong><em>å¦‚æœçœ‹ä¸‹é¢çš„æµç¨‹å›¾çš„è¯ï¼Œé‚£ä¹ˆä¸Šé¢è¿™ä¸ªé¡ºåºæ˜¯ä¸å¯¹çš„ã€‚æ˜¯å…ˆå†™åˆ°memtableï¼Œç„¶åå†å†™commitLogï¼Ÿçœ‹å®˜æ–¹æ–‡æ¡£ï¼Œä¸Šé¢çš„æ˜¯æ­£ç¡®çš„ã€‚åº”è¯¥æ˜¯æµç¨‹å›¾ä¸å¤Ÿå¥½ã€‚æˆ–è€…æ˜¯ä¸€ä¸ªç›¸å¯¹å¹¶è¡Œçš„è¿‡ç¨‹</em></strong></p>
<p><img src="https://www.ibm.com/developerworks/cn/opensource/os-cn-cassandraxu2/image012-large.jpg" alt></p>
<blockquote>
<p>å¼•ç”¨è‡ªç¬¬äºŒç¯‡é“¾æ¥</p>
</blockquote>
<ul>
<li>è¿™å¼ å›¾é‡Œé¢æœ‰çš„ç»“æ„å¯èƒ½ä¸å¤ªå¯¹äº†ã€‚æ²¡æœ‰æ‰¾åˆ°RowMutationè¿™ä¸ªç»“æ„ï¼Œåªæœ‰Mutation</li>
</ul>
<h3 id="replica-factor"><a class="header-anchor" href="#replica-factor"></a>Replica Factor</h3>
<ul>
<li>
<p>CassandraServer æ¥æ”¶åˆ°è¦å†™å…¥çš„æ•°æ®æ—¶ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ª <code>RowMutation</code> å¯¹è±¡ï¼Œå†åˆ›å»ºä¸€ä¸ª <code>QueryPath</code> å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­ä¿å­˜äº† <code>ColumnFamily</code>ã€<code>Column Name</code> æˆ–è€… <code>Super Column Name</code>ã€‚</li>
<li>æŠŠç”¨æˆ·æäº¤çš„æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨ <code>RowMutation</code> å¯¹è±¡çš„ Map&lt;String, ColumnFamily&gt; ç»“æ„ä¸­ã€‚</li>
<li>æ ¹æ®æäº¤çš„<code>Key</code>è®¡ç®—é›†ç¾¤ä¸­é‚£ä¸ªèŠ‚ç‚¹åº”è¯¥ä¿å­˜è¿™æ¡æ•°æ®ã€‚è¿™ä¸ªè®¡ç®—çš„è§„åˆ™æ˜¯ï¼šå°†<code>Key</code>è½¬åŒ–æˆ<code>Token</code>ï¼Œç„¶ååœ¨æ•´ä¸ªé›†ç¾¤çš„<code>Token</code>ç¯ä¸­æ ¹æ®äºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ‰¾åˆ°ä¸ç»™å®šçš„<code>Token</code>æœ€æ¥è¿‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœç”¨æˆ·æŒ‡å®šäº†æ•°æ®è¦ä¿å­˜å¤šä¸ªå¤‡ä»½ï¼Œé‚£ä¹ˆå°†ä¼šé¡ºåºåœ¨<code>Token</code>ç¯ä¸­è¿”å›ä¸å¤‡ä»½æ•°ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„èŠ‚ç‚¹åˆ—è¡¨ï¼Œåé¢<code>Cassandra</code>ä¼šåˆ¤æ–­è¿™äº›èŠ‚ç‚¹æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œå¦‚æœä¸æ­£å¸¸å¯»æ‰¾æ›¿æ¢èŠ‚ç‚¹ã€‚è¿˜æœ‰è¿˜è¦æ£€æŸ¥æ˜¯å¦æœ‰èŠ‚ç‚¹æ­£åœ¨å¯åŠ¨ï¼Œè¿™ç§èŠ‚ç‚¹ä¹Ÿæ˜¯è¦åœ¨è€ƒè™‘çš„èŒƒå›´å†…ï¼Œæœ€ç»ˆä¼šå½¢æˆä¸€ä¸ªç›®æ ‡èŠ‚ç‚¹åˆ—è¡¨ã€‚æœ€åæŠŠæ•°æ®å‘é€åˆ°è¿™äº›èŠ‚ç‚¹ã€‚</li>
<li><strong><em>æ‰€ä»¥åœ¨çœŸæ­£å¼€å§‹å†™å…¥æ•°æ®ä¹‹å‰ï¼Œcassandraä¼šåšè¿™äº›äº‹æƒ…ï¼Ÿåœ¨commitLogä¹‹å‰ï¼Ÿ</em></strong> æˆ‘æƒ³åº”è¯¥æ˜¯ä¹‹å‰</li>
</ul>
</li>
<li>
<p><code>Replica Factor</code>å’Œ<code>consistency level</code>ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œç„¶åæœ‰ä¸€ä¸ªç®—æ³•ã€‚æ¯”å¦‚ï¼Œ<code>replica set</code>æ˜¯3ï¼Œ <code>consistency level</code>çš„ç­–ç•¥æ˜¯<code>Querum</code>ã€‚è¿™æ ·éœ€è¦consistentçš„èŠ‚ç‚¹æ˜¯replica set/2 +1 ï¼Œæ‰€ä»¥å°±æ˜¯2</p>
</li>
</ul>
<h3 id="eventual-consistency"><a class="header-anchor" href="#eventual-consistency"></a>Eventual Consistency</h3>
<p>è¿™åœ¨Cassandraé‡Œé¢æ˜¯éå¸¸å…³é”®çš„ä¸€ä¸ªæ¦‚å¿µã€‚å†™åœ¨è¿™é‡Œã€‚å› ä¸ºä¸å†™çš„æœºåˆ¶ç›¸å…³æœ€å¤šã€‚</p>
<ul>
<li>
<p>Cassandra must make tradeoffs among data consistency, availability, and partition tolerance. Cassandraå¿…é¡»åœ¨æ•°æ®ä¸€è‡´æ€§ã€å¯ç”¨æ€§å’Œåˆ†åŒºå®¹å¿ä¹‹é—´å¹³è¡¡</p>
<ul>
<li>
<p>Availability: all clients are able to access the data so they can read and write data. å¯ç”¨æ€§ï¼šæ‰€æœ‰å®¢æˆ·éƒ½èƒ½å¤Ÿè¯»å–å’Œå†™å…¥æ•°æ®</p>
</li>
<li>
<p>Consistencyçš„æ¦‚å¿µï¼š</p>
<ul>
<li>a read always return the latest written dataï¼š è¯»å–æ—¶å€™è¿”å›æœ€åä¸€æ¬¡å†™å…¥çš„æ•°æ®</li>
<li>All clients will read the same value for an element of data even when the database is simultaneously updating dataï¼š å½“æ•°æ®åº“åŒæ­¥å®Œæˆçš„æ—¶å€™ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯åº”è¯¥å¾—åˆ°åŒæ ·çš„æ•°æ®</li>
</ul>
</li>
<li>
<p>Partition toleranceï¼ša database can be split into multiple machines and be able keep functioning even during network segmentation breaksï¼š ä¸€ä¸ªæ•°æ®åº“å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„æœºå™¨ä¸Šé¢ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ç½‘ç»œå‡ºç°æ•…éšœæ—¶å€™ä¿æŒæ­£å¸¸åŠŸèƒ½</p>
<p>è¿™é‡Œåº”è¯¥å’Œå…³ç³»å‹çš„ä¼ ç»Ÿæ•°æ®åº“ä¸ä¸€æ ·ã€‚Cassandraæ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæ‰€æœ‰nodeçš„åœ°ä½æ˜¯ä¸€æ ·çš„ã€‚<strong><em>è¯´å¥½çš„seedå‘¢ï¼Œæ€ä¹ˆæ„Ÿè§‰æœ‰seedï¼Œ seedåº”è¯¥æ˜¯Gossipæœºåˆ¶é‡Œé¢æå‡ºçš„ã€‚å‚è€ƒåšå®¢å†…æ–‡æ¡£<code>Cassandra system logåˆ†æ</code>åé¢ä¹Ÿè®¸ä¼šæ¢ä¸€ä»½æ–‡æ¡£æ”¾</em></strong></p>
<p>Oracleè¿™ç§æ•°æ®åº“ä¸€èˆ¬æ˜¯å•æœºç‰ˆçš„ï¼Œæ²¡æœ‰clusterï¼Œ ä½†æ˜¯æœ‰ä¸»ä»å¤‡ä»½ï¼Œæ‰€æœ‰ä¸ä¸€æ ·çš„</p>
</li>
</ul>
</li>
<li>
<p>ä¸¥æ ¼æ„ä¹‰ä¸Šé¢çš„Consistencyå¯¹äºåˆ†å¸ƒå¼æ•°æ®åº“æ¥è¯´å¾ˆéš¾åšåˆ°ã€‚æ‰€ä»¥æœ‰Eventual consistency requires that all updates must be present on all the copies (replicas) of data in a distributed database, but allows for the fact that the process can take a bit of time.<br>
å°±æ˜¯è¯´æ›´æ–°æ˜¯éƒ½è¦è¿›è¡Œçš„ï¼Œä½†æ˜¯å¯ä»¥æœ‰ä¸€æ®µæ—¶é—´å·®</p>
</li>
<li>
<p>tuneable consistencyï¼š å¯é…ç½®çš„consistencyã€‚å†™å’Œè¯»éƒ½å¯ä»¥é…ã€‚</p>
</li>
</ul>
<h3 id="commit-log"><a class="header-anchor" href="#commit-log"></a>commit log</h3>
<p><a href="https://stackoverflow.com/questions/34592948/what-is-the-purpose-of-cassandras-commit-log" target="_blank" rel="noopener">stackoverflowé—®ç­”</a><br>
è¿™ç¯‡æ–‡ç« é‡Œé¢è§£é‡Šå¾—æŒºæ¸…æ¥šçš„ã€‚è¿™é‡ŒåŸºæœ¬å°±æ˜¯ç¿»è¯‘ä»¥ä¸‹ã€‚è¿™ä¸ªcommit logä¹Ÿå°±æ˜¯è£…æœºæ—¶å€™é…ç½®çš„é‚£ä¸ª<code>commitlog_directory</code>çš„é…ç½®é¡¹ã€‚<br>
commit logå¤§å°é…ç½®æ˜¯per-nodeæ¥é…ç½®çš„ï¼Œæ‰€æœ‰çš„table shareè¿™ä¸ªé…ç½®ã€‚è€ŒMemtableå’ŒSSTableæ˜¯per-tableé…ç½®çš„</p>
<ul>
<li>
<p>cassandraæ˜¯å…ˆå†™åˆ°å†…å­˜ï¼Œå†å†™åˆ°diskä¸Šé¢çš„ï¼Œä½†æ˜¯å¦‚æœå½“æœºäº†ã€‚é‚£ä¹ˆå†…å­˜çš„æ•°æ®å°±ä¼šä¸¢ã€‚</p>
</li>
<li>
<p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦commitLogï¼Œcassandraä¼šä»å½“æœºçš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†commitlogé‡Œé¢çš„æ•°æ®å†å†™åˆ°memTableé‡Œé¢ã€‚è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸å¿«ï¼Œæ‰€ä»¥æœ€å¥½åœ¨restartä¹‹å‰æ‰‹åŠ¨è¿›è¡Œä¸€ä¸‹memTableçš„flushã€‚</p>
</li>
<li>
<p>A commit log serves just one purpose: to hold committed data until itâ€™s permanently written to disk in the SSTables</p>
</li>
<li>
<p>commitLogéœ€è¦å†™çš„æ•°æ®å°‘ï¼Œå¹¶ä¸”åªå†™åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œæ‰€ä»¥æ¯”å†™SSTableè¦å¿«</p>
</li>
<li>
<p>åœ¨å·¥ä½œä¸­ç¢°åˆ°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯commitLogæŸåäº†ï¼Œç„¶åcassandraå°±èµ·ä¸æ¥äº†ã€‚æœ‰ä¸€ä¸ªé…ç½®é¡¹å¯ä»¥å¿½ç•¥commitLogæŠ¥é”™ã€‚</p>
</li>
<li>
<blockquote>
<p>Data in the commit log is purged after its corresponding data in the memtable is flushed to an SSTable on disk.</p>
</blockquote>
</li>
<li>
<blockquote>
<p>Commit log replay is the process of reading the commit log to recover lost writes in the event of interrupted operations.</p>
</blockquote>
</li>
<li>
<p>The database flushes memtables to disk when the space configured for the commit log reaches its limit. è¿™é‡Œé…ç½®çš„åº”è¯¥æ˜¯ç£ç›˜ç©ºé—´å¤§å°ï¼Œcommit logåªä¼šå†™åˆ°ç£ç›˜ä¸Šé¢ã€‚ä¸ä¼šå†™åˆ°å†…å­˜é‡Œé¢ã€‚</p>
</li>
<li>
<p>By default, the database doesnâ€™t compress the commit log, but you can make it compress.</p>
</li>
<li>
<p>The database archives the commit log at the following times. You configure commit log archiving in the commitlog_archiving.properties file. _<strong><em>archiveå’Œcompressä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µçš„æ„Ÿè§‰ã€‚ä½†æ˜¯å‰è€…æ˜¯æŒ‡ä»€ä¹ˆå‘¢</em></strong></p>
<ul>
<li>When the node starts up</li>
<li>When it writes a commit log to disk</li>
<li>At a point in time that you specify</li>
</ul>
</li>
</ul>
<h3 id="memtable"><a class="header-anchor" href="#memtable"></a>MemTable</h3>
<ul>
<li>
<blockquote>
<p>Each memtable is dedicated to storing data for a specific table, and there may be multiple memtables per table.</p>
</blockquote>
</li>
<li>æ¯æ¬¡å†™çš„æ—¶å€™åªå†™å…¶ä¸­ä¸€å¼ memtable memTableåœ¨å†…å­˜é‡Œé¢çœ‹ä¸åˆ°å“¦</li>
<li>memTableæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å†™çš„è¿™ç§ï¼Œå¦å¤–ä¸€ç§æ˜¯ä»SSTableè¯»è¿›æ¥çš„ï¼Œè¿™ç§ä¸ä¼šé‡æ–°å†™å›åˆ°ç£ç›˜é‡Œé¢</li>
<li><code>nodetool flush</code> or the <code>nodetool drain</code> command æ¥è§¦æ³•æ‰‹åŠ¨çš„flushã€‚å‰è€…æ˜¯æŒ‡å®štableã€‚åä¸€ä¸ªå‘½ä»¤æ˜¯flushè¿™ä¸ªnodeã€‚æœŸé—´ä¼šåœæ­¢ä»»ä½•connectionçš„æ¥å¬ï¼Œæ‰€ä»¥éœ€è¦åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹åé‡å¯æ•´ä¸ªnode</li>
</ul>
<h3 id="sstable"><a class="header-anchor" href="#sstable"></a>SSTable</h3>
<p>ç¬¬äºŒç¯‡å‚è€ƒé“¾æ¥éå¸¸å¥½ï¼Œä½†æ˜¯å›¾ç‰‡å¿’ä¸æ¸…æ¥šã€‚</p>
<p><img src="https://www.ibm.com/developerworks/cn/opensource/os-cn-cassandraxu2/image010-large.jpg" alt></p>
<blockquote>
<p>å¼•ç”¨è‡ªç¬¬äºŒç¯‡å‚è€ƒé“¾æ¥</p>
</blockquote>
<h4 id="sstableç‰¹æ€§"><a class="header-anchor" href="#sstableç‰¹æ€§"></a>SSTableç‰¹æ€§</h4>
<ul>
<li>ä¸å¯ä¿®æ”¹</li>
<li>Cassandraåœ¨å†™SSTableçš„æ—¶å€™æ˜¯batchæ“ä½œï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯å¯¹åº”çš„Memtableæ»¡çš„æ—¶å€™æ‰å†™çš„ï¼Œä¸å¤ªä¼šæœ‰å³°å€¼ï¼Œè¿™æ ·ä¿è¯å†™å…¥çš„æ•ˆç‡</li>
</ul>
<h4 id="sstableæ•°æ®å­˜å‚¨"><a class="header-anchor" href="#sstableæ•°æ®å­˜å‚¨"></a>SSTableæ•°æ®å­˜å‚¨</h4>
<ul>
<li>SSTableæ˜¯<code>Sorted String Table</code></li>
<li>SSTableåˆ†ä¸ºdataã€indexã€filterä¸‰ä¸ªæ–‡ä»¶å†™åˆ°ç£ç›˜ä¸Šé¢ï¼Œå…¶å®è¿˜æœ‰å¥½å‡ ä¸ªå…¶ä»–æ–‡ä»¶:<br>
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶</li>
</ul>
<pre><code> Filter.db
 Statistics.db
 CompressionInfo.db
 Digest.adler32
 TOC.txt(å°±æ˜¯æ–‡ä»¶åˆ—è¡¨)
 Summary.db
 Data.db
 Index.db
</code></pre>
<ul>
<li>Primary index: A list of partition keys and the start position of rows in the data file written on disk(è®°å¾—è¯»çš„æ—¶å€™è›®æœ‰ç”¨çš„)</li>
<li>Partition summaryï¼š è¿™ä¸ªsummaryæ–‡ä»¶è·Ÿä¸Šé¢çš„Index Summaryåº”è¯¥å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚è§£é‡Šä¹Ÿæ˜¯ä¸€æ ·ã€‚A sample of the partition index stored in memory</li>
<li>Bloom filterï¼š
<ul>
<li>
<blockquote>
<p>A structure stored in memory that checks if row data exists in the memtable before accessing SSTables on disk<br>
æŒ‰ç…§è¿™ä¸ªè§£é‡Šï¼Œæœ‰ç‚¹ä¸æ˜ç™½ï¼Œè¿™ä¹ˆè¯´åº”è¯¥æ˜¯memoryé‡Œé¢æ‰æœ‰çš„ã€‚<br>
- æ‰¾åˆ°è§£é‡Šäº†ï¼šFilter æ–‡ä»¶å­˜çš„å†…å®¹å°±æ˜¯ BloomFilter å¯¹è±¡çš„åºåˆ—åŒ–ç»“æœã€‚<strong><em>ä½†æ˜¯è¿™æ ·çš„è¯ï¼Œå°†å…¶åºåˆ—åŒ–åä¿å­˜åˆ°diskä¸Šé¢æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ Bloom filters for an SSTable enhance read performanceã€‚åé¢è¯»çš„æ—¶å€™çœ‹çœ‹æ€ä¹ˆæ¥enhanceçš„</em></strong></p>
</blockquote>
</li>
</ul>
</li>
<li>Statisticsï¼š Contains the statistical metadata about the SSTableâ€™s data</li>
</ul>
<ul>
<li>
<p>å­˜è´®çš„ç›®å½•å°±æ˜¯yamlæ–‡ä»¶é‡Œé¢é…ç½®çš„<code>data_file_directories</code>ç¡®å®š</p>
</li>
<li>
<p>For example, /data/data/ks1/cf1-5be396077b811e3a3ab9dc4b9ac088d/la-1-big-Data.db represents a data file. ks1 represents the keyspace name to distinguish the keyspace for streaming or bulk loading data. A hexadecimal string, 5be396077b811e3a3ab9dc4b9ac088d in this example, is appended to table names to represent unique table IDs.<br>
åŒæ ·ä¼šæœ‰ï¼šla-1-big-Index.db</p>
</li>
<li>
<p><strong><em>laæ˜¯å•¥ï¼Ÿ</em></strong></p>
</li>
<li>
<p>ç”¨<code>./tools/bin/sstable2json</code>å¯ä»¥æ‰“å¼€è¿™å †dataæ–‡ä»¶æ¥çœ‹ã€‚ä¸‹é¢æ˜¯æ‰“å¼€ä¸€ä¸ªdataæ–‡ä»¶çš„è¾“å‡ºã€‚</p>
<ul>
<li>ä»è¾“å‡ºæ¥çœ‹ï¼Œå­˜å‚¨çš„æ—¶å€™çš„keyå°±æ˜¯partition keyã€‚å¦‚æœæœ‰å¤šä¸ªï¼Œä¼šç”¨<code>ï¼š</code>éš”å¼€</li>
<li>ç„¶åå®ƒæ˜¯è¿™æ ·çš„ï¼š
<ul>
<li>ä¸æ˜¯partition keyçš„primary keyä¼šä½œä¸ºç¬¬ä¸€ä¸ªcolumnçš„åå­—ï¼ŒåŒæ ·ç”¨:éš”å¼€ã€‚</li>
<li>æ¥ä¸‹æ¥ä¸æ˜¯keyçš„columnå’Œä¸æ˜¯partition keyçš„primary keyè”åˆèµ·æ¥ä½œä¸ºcolumnçš„åå­—ã€‚</li>
<li>æ¯”å¦‚ï¼šé‚£ä¹ˆkeyå°±æ˜¯&quot;name:age&quot;, ç„¶åcellsé‡Œé¢çš„ç¬¬ä¸€è¡Œä¼šæ˜¯,æœ€åæ˜¯æ—¶é—´æˆ³<br>
<code>[&quot;address:salary&quot;,&quot;&quot;,1558958953681000]</code></li>
<li>ç¬¬äºŒè¡Œä¼šæ˜¯ï¼š<br>
<code>[&quot;address:salary:character&quot;,character_value,1558958953681000]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>    name text PRIMARY KEY,
    age bigint,
    address int,
    salary int,
    character blob,
    PRIMARY KEY ((name, age), address, salary)
</code></pre>
<h3 id="ä»memtablesåˆ°sstable"><a class="header-anchor" href="#ä»memtablesåˆ°sstable"></a>ä»memTablesåˆ°SSTable</h3>
<ul>
<li>
<p>Cassandra flushes the memtables to disk when either the commit log space threshold or the memtable cleanup threshold is reached.</p>
<ul>
<li><code>memtable_cleanup_threshold</code> åé¢ä¸€ç§åº”è¯¥å’Œè¿™ä¸ªå‚æ•°æœ‰å…³</li>
<li>åœ¨<code>expert cassandra</code>çš„ä¹¦é‡Œæœ‰ä¸‰ç§æƒ…å†µä¸‹é¢ä¼šflushã€‚ä¸åŒ…æ‹¬æ‰‹åŠ¨flush</li>
</ul>
</li>
<li>
<blockquote>
<p>To flush the data, Cassandra sorts memtables by token and then writes the data to disk sequentially.<br>
Cassandraåœ¨å°†æ•°æ®å†™åˆ°diskçš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šå°†memtablesæŒ‰ç…§tokenæ’åºã€‚_è¿™ä¸ªtokenæ˜¯ä¸æ˜¯å°±æ˜¯keyç®—å‡ºæ¥çš„é‚£ä¸ªtokenï¼Ÿä½†æ˜¯tableæ€ä¹ˆæŒ‰ç…§tokenæ’åºå‘¢ï¼Œåº”è¯¥è¯´çš„æ˜¯tableé‡Œé¢çš„æ•°æ®å§ _</p>
</blockquote>
</li>
<li>
<blockquote>
<p>A partition index is also created on the disk that maps the tokens to a location on disk.<br>
partition indexæ˜¯åœ¨è¿™é‡Œæ‰ç®—å‡ºæ¥çš„ã€‚é‚£ä¹ˆä¹‹å‰å°±éƒ½æ˜¯tokenã€‚___ Memtbleé‡Œé¢çš„ä¹Ÿéƒ½æ˜¯tokenï¼Ÿ___</p>
</blockquote>
</li>
<li>
<p>flushçš„æ—¶å€™ä¸æ˜¯ä¸€æŠŠå¤´å…¨å†™è¿›å»çš„ã€‚ä¼šå…ˆæŠŠmemTableçš„æ•°æ®æ”¾åˆ°ä¸€ä¸ªqueueé‡Œé¢ã€‚è¿™ä¸ªqueueçš„å¤§å°å¯ä»¥åœ¨configurationé‡Œé¢å®šä¹‰ã€‚</p>
<blockquote>
<p>The queue can be configured with the memtable_heap_space_in_mb or memtable_offheap_space_in_mb setting</p>
</blockquote>
</li>
<li>
<p>You can manually flush a table using nodetool flush.</p>
</li>
<li>
<blockquote>
<p>Consequently, a partition is typically stored across multiple SSTable files.</p>
</blockquote>
</li>
<li>
<p>ç›¸åŒpartition keyçš„è®°å½•åº”è¯¥æ˜¯å­˜è´®åœ¨ä¸€ä¸ªnodeä¸Šé¢ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œè¦çœ‹æ•°æ®é‡ã€‚</p>
</li>
</ul>
<h3 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://blog.csdn.net/fs1360472174/article/details/55005335/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£â€“è¯»å†™æ•°æ®</a></li>
<li><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-cassandraxu2/index.html" target="_blank" rel="noopener">cassandraæ•°æ®åº“è¯¦è§£</a></li>
<li><a href="https://docs.datastax.com/en/cassandra/3.0/cassandra/dml/dmlHowDataWritten.html" target="_blank" rel="noopener">cassandraè¯»å†™è¿‡ç¨‹</a></li>
<li><a href="https://blog.csdn.net/qinzhihu/article/details/8807776" target="_blank" rel="noopener">ä¸€ç¯‡å¾ˆé€šä¿—çš„blog</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/17/è¿˜æ²¡æƒ³å¥½/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/17/è¿˜æ²¡æƒ³å¥½/" itemprop="url">Cassandra system logåˆ†æ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-17T14:28:35+08:00">
                2019-01-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/cassandra/" itemprop="url" rel="index">
                    <span itemprop="name">cassandra</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="cassandra-system-logåˆ†æ"><a class="header-anchor" href="#cassandra-system-logåˆ†æ"></a>Cassandra system logåˆ†æ</h2>
<p>æœ€è¿‘ä¸€å‘¨å¯èƒ½éƒ½ä¼šåœ¨çœ‹Cassandraçš„system logï¼Œçœ‹Cassandraåœ¨å¹²å˜›ã€‚å…¶ä¸­ä¼šæ¶‰åŠåˆ°cassandraçš„ä¸€äº›æœºåˆ¶ï¼Œæ¦‚å¿µè®°å½•ä¸‹æ¥ã€‚<br>
æ–‡æ¡£åå­—æš‚æ—¶çš„ï¼Œå…¶ä¸­çš„æ¦‚å¿µå¯èƒ½åæœŸä¼šç§»èµ°ã€‚</p>
<h3 id="nodetool"><a class="header-anchor" href="#nodetool"></a>Nodetool</h3>
<p>Cassandraçš„çŠ¶æ€å¯ä»¥ç”¨<code>NodeTool</code>æ¥checkï¼Œå¦‚æœé‡‡ç”¨äº†ssl è®¤è¯ï¼Œé‚£ä¹ˆå‘½ä»¤æ˜¯ <code>NodeTool --ssl</code></p>
<h3 id="gossip-tasks"><a class="header-anchor" href="#gossip-tasks"></a>Gossip Tasks</h3>
<h4 id="pending-task-log"><a class="header-anchor" href="#pending-task-log"></a>Pending task log</h4>
<p>åå­—å¤ªå¥½è®° ï¼Œæœ‰æ²¡æœ‰ ğŸ˜ƒ<br>
Cassandra çš„å„ä¸ªèŠ‚ç‚¹æ˜¯æ— ä¸­å¿ƒåŒ–å¯¹å¾…çš„ã€‚èƒ½åšåˆ°è¿™ä¸€ç‚¹çš„ä¸€ä¸ªå…³é”®æ˜¯ä½¿ç”¨äº†Gossipåè®®ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆé€‚ç”¨äºä¸å¯ä¿¡ç½‘ç»œçš„åè®®</p>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼Œ åç»­éœ€è¦æ›´ä¸ºä»”ç»†æ·±å…¥çš„å­¦ä¹ ï¼š <a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-apache-cassandra3x3/index.html" target="_blank" rel="noopener">Apache Cassandra 3.X ç³»åˆ—</a></li>
<li>Cassandraä¸­Gossipåè®®è¢«å®ç°åœ¨ç±»<code>Gossiper</code>ä¸­ã€‚</li>
<li>Gossiper ç±»ç»´æŠ¤äº†ä¸€ä¸ªèŠ‚ç‚¹åˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨é‡ŒåŒ…æ‹¬å­˜æ´»çš„å’Œæ­»äº¡çš„èŠ‚ç‚¹ã€‚</li>
<li><code>GossipTask</code> æ˜¯ä½äº <code>org.apche.cassandra.gms.Gossip</code> ç±»ä¸‹çš„ä¸€ä¸ªå†…éƒ¨ç±»ã€‚</li>
<li>GossipTaskä¼šå‘å…¶ä»–èŠ‚ç‚¹å‘æ¶ˆæ¯ï¼Œé»˜è®¤æ—¶é—´æ˜¯1s</li>
<li>åœ¨logé‡Œé¢ä¼šæœ‰ï¼š<br>
[GossipTasks:1] 2019-01-03 04:19:33,680 Gossiper.java:751 - Gossip stage has 378 pending tasks; skipping status check (no nodes will be marked down)</li>
</ul>
<h4 id="pause-error-not-making-nodes-down"><a class="header-anchor" href="#pause-error-not-making-nodes-down"></a>Pause Error: Not making Nodes Down</h4>
<ul>
<li>åœ¨logé‡Œé¢ç»å¸¸ä¼šå‡ºç°:ä»¥ä¸‹æ˜¯è¯´cassandraåœ¨åšå…¶ä»–äº‹æƒ…ï¼Œå¯¼è‡´Gossipåœé¡¿äº†ï¼Œ hangä½äº†ã€‚ä½†æ˜¯å¹¶ä¸æ ‡ç¤ºnodeçŠ¶æ€ã€‚</li>
<li>é€šå¸¸æ˜¯GCçš„æ—¶å€™ï¼Œè¿™ä¸€å¥çš„ä¸Šä¸€å¥logç¡®å®æç¤ºäº†ä¸€æ¬¡55742msçš„GCï¼Œä½†æ˜¯GCé€šå¸¸ä¹Ÿå‘ç”Ÿåœ¨æœ‰å¾ˆå¤štaskçš„æ—¶å€™ï¼Œæ‰€ä»¥åº”è¯¥çœ‹çœ‹å…¶ä»–åœ¨åšä»€ä¹ˆtask</li>
</ul>
<pre><code>WARN  [GossipTasks:1] 2019-01-02 00:00:04,546 FailureDetector.java:287 - Not marking nodes down due to local pause of 54491963082 &gt; 5000000000
</code></pre>
<ul>
<li><a href="http://www.cnblogs.com/jobforlife/p/7092467.html" target="_blank" rel="noopener">errorè§£é‡Š</a></li>
</ul>
<h3 id="service-thread"><a class="header-anchor" href="#service-thread"></a>Service Thread</h3>
<p>æ²¡æœ‰çœ‹åˆ°è¿™ä¸ªService Threadçš„å…·ä½“è§£é‡Šã€‚ä»logé‡Œé¢çœ‹æœ‰å¾ˆå¤šåŠŸèƒ½</p>
<h4 id="statuslogger"><a class="header-anchor" href="#statuslogger"></a>StatusLogger</h4>
<p>å¦‚æ­¤ç®€å•çš„ä¸€ä¸ªå‡½æ•°ä¹Ÿæœ‰å¥½å‡ ç§logå•¦ã€‚</p>
<h5 id="threadpoolmetricsï¼š-stage"><a class="header-anchor" href="#threadpoolmetricsï¼š-stage"></a>ThreadPoolMetricsï¼š Stage</h5>
<p>æ‰“å°å‡ºå„ç§stageçš„çŠ¶æ€ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªçš„poolçš„çŠ¶æ€ã€‚çœŸå¿ƒä¸å°‘å•Šã€‚</p>
<ul>
<li>åœ¨logé‡Œé¢ä¼šæœ‰ï¼š</li>
</ul>
<pre><code>INFO  [Service Thread] 2019-01-02 00:00:04,547 StatusLogger.java:52 - Pool Name Active   Pending      Completed   Blocked  All Time Blocked
</code></pre>
<ul>
<li>é‰´äºstageæ¯”è¾ƒå¤šï¼Œå¦å¤–å†™ä¸€ç¯‡blogæ¥è§£é‡Šè¿™å †ã€‚è¯·çœ‹æœ¬ç«™çš„stageã€‚</li>
</ul>
<h5 id="cache"><a class="header-anchor" href="#cache"></a>Cache</h5>
<p>è¾“å‡ºKeyCache å’Œ RowCacheçš„çŠ¶æ€</p>
<ul>
<li>åœ¨logé‡Œé¢æ˜¯ï¼š</li>
</ul>
<pre><code>INFO  [Service Thread] 2019-01-02 00:00:05,130 StatusLogger.java:88 - Cache Type  Size Capacity KeysToSave
INFO  [Service Thread] 2019-01-02 00:00:05,130 StatusLogger.java:90 - KeyCache   1406343  104857600
</code></pre>
<ul>
<li>è¿™ç¯‡ logå·²ç»å¾ˆé•¿äº†ã€‚KeyCacheå’ŒRowCacheå¦å¼€ä¸€ç¯‡logã€‚</li>
</ul>
<h5 id="per-cf-stats"><a class="header-anchor" href="#per-cf-stats"></a>per-CF stats</h5>
<p>per-CF statsæ˜¯æºç é‡Œé¢çš„æ³¨é‡Šï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯å•¥å“¦</p>
<ul>
<li>åœ¨logé‡Œé¢æ˜¯ï¼š</li>
</ul>
<pre><code>INFO  [Service Thread] 2019-01-03 02:54:45,722 StatusLogger.java:106 (table_name)Â Â Â  6284,288376
</code></pre>
<ul>
<li>Cassandraçš„APIé‡Œé¢å¯¹äº<code>StatusLogger</code>ä¹Ÿæ²¡æœ‰è§£é‡Šã€‚ ORZï¼Œçœ‹æ¥æ˜¯ä¸ªå¾ˆç›´ç™½çš„æ–‡ä»¶å•Š<br>
-<code>org.apache.cassandra.utils.StatusLogger</code> åªæœ‰ä¸€ä¸ªå‡½æ•°<code>log()</code></li>
</ul>
<pre><code>logger.info(String.format(&quot;%-25s%20s&quot;, &quot;Table&quot;, &quot;Memtable ops,data&quot;));
logger.info(String.format(&quot;%-25s%20s&quot;,
                   cfs.keyspace.getName() 
				   + &quot;.&quot; + cfs.name,                                      cfs.metric.memtableColumnsCount.getValue() 
				   + &quot;,&quot; + cfs.metric.memtableLiveDataSize.getValue()));
    }ã€‚
</code></pre>
<ul>
<li>æ‰€ä»¥ï¼Œç¬¬ä¸€ä¸ªæ•°å€¼æ˜¯memTableçš„columnçš„ä¸ªæ•°ï¼Œç¬¬äºŒä¸ªæ˜¯dataçš„size</li>
<li>ä¸€ä¸ªé—®é¢˜æ˜¯ï¼š è¿™ä¸ªcolumnä¹Ÿå¤ªå¤šäº†å§ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</li>
<li>è¢«å¤§ç¥åŠæ‰“äº†ã€‚è¿™ä¸ªå€¼æ˜¯è¡¨è®¿é—®æ¬¡æ•°ã€‚</li>
</ul>
<h4 id="gcinspector"><a class="header-anchor" href="#gcinspector"></a>GCInspector</h4>
<p>-åœ¨logé‡Œé¢æ˜¯ï¼š</p>
<pre><code>INFO  [Service Thread] 2019-01-02 00:00:04,546 GCInspector.java:284 - ConcurrentMarkSweep GC in 55742ms.  CMS Old Gen: 7331643368 -&gt; 7331643360; Par Eden Space: 1006632960 -&gt; 784484600; Par Survivor Space: 125829104 -&gt; 0
</code></pre>
<ul>
<li>è¿™å¥logçš„æ„æ€æ˜¯ï¼šåšäº†ä¸€æ¬¡CMS GCã€‚ç„¶åæ•°å­—å¯¹åº”ï¼Œ11ä½æ˜¯Gï¼Œ9ä½æ˜¯Mï¼Œæ‰€ä»¥ edenåŒºæ˜¯784M</li>
<li>å‚è€ƒæœ¬ç«™GCçš„æ–‡ç« äº†è§£æ›´å¤šCMSç®—æ³•çš„å†…å®¹</li>
</ul>
<h3 id="periodic-commit-log-syncer"><a class="header-anchor" href="#periodic-commit-log-syncer"></a>PERIODIC-COMMIT-LOG-SYNCER</h3>
<ul>
<li>åœ¨logé‡Œé¢æ˜¯ï¼š</li>
</ul>
<pre><code>WARN  [PERIODIC-COMMIT-LOG-SYNCER] 2019-01-03 04:04:17,232 AbstractCommitLogService.java:117 - Out of 5 commit log syncs over the past 573s with average duration of 9734.40ms...
</code></pre>
<ul>
<li>è¿™ä¸ªåº”è¯¥æ˜¯å°†commit logå†™åˆ°diskä¸Šé¢çš„taskã€‚æ²¡æœ‰å†æŸ¥èµ„æ–™ã€‚å‚è€ƒæœ¬ç«™cassandraå†™è¿‡ç¨‹é‚£ç¯‡åšå®¢</li>
</ul>
<h3 id="rmi-tcp-connection-idle"><a class="header-anchor" href="#rmi-tcp-connection-idle"></a>RMI TCP Connection(idle)</h3>
<h3 id="indexsummarymanager"><a class="header-anchor" href="#indexsummarymanager"></a>IndexSummaryManager</h3>
<ul>
<li>åœ¨logé‡Œé¢æ˜¯ï¼š</li>
</ul>
<pre><code> INFO  [IndexSummaryManager:1] 2019-01-02 03:21:59,849 IndexSummaryRedistribution.java:74 - Redistributing index summaries
</code></pre>
<ul>
<li>Manages the fixed-size memory pool for index summaries, periodically resizing them in order to give more memory to hot sstables and less memory to cold sstables.</li>
<li>è¿˜ä¸æ˜¯å¾ˆç†è§£ï¼Œå°±æ˜¯è¯´index summaryä¸€å¼€å§‹ä¹Ÿæ˜¯å­˜åœ¨å†…å­˜ä¸­çš„å—ï¼Ÿç¡®å®åœ¨å‚æ•°é…ç½®é‡Œé¢æœ‰index_summary_capacity_in_mbå’Œindex_summary_resize_interval_in_minutes</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/14/Reactå…¥é—¨-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/14/Reactå…¥é—¨-1/" itemprop="url">Reactå…¥é—¨(1)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-14T16:35:28+08:00">
                2019-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="reactå…¥é—¨"><a class="header-anchor" href="#reactå…¥é—¨"></a>Reactå…¥é—¨</h1>
<h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2>
<p><a href="http://www.ruanyifeng.com/blog/2015/03/react.html" target="_blank" rel="noopener">é˜®ä¸€å³°çš„åšå®¢</a></p>
<h2 id="react-æ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#react-æ˜¯ä»€ä¹ˆ"></a>React æ˜¯ä»€ä¹ˆ</h2>
<p>Reactæ˜¯Facebookå‘å¸ƒçš„å‰ç«¯æ¡†æ¶</p>
<h2 id="reactçš„ä¼˜åŠ¿"><a class="header-anchor" href="#reactçš„ä¼˜åŠ¿"></a>Reactçš„ä¼˜åŠ¿</h2>
<p>ç°åœ¨è¿˜ä¸çŸ¥é“å“ªé‡Œæœ‰ä¼˜åŠ¿ã€‚æœ€å¤§çš„åº”è¯¥å°±æ˜¯JXSï¼Œç„¶åå¯ä»¥ç»„ä»¶åŒ–ã€‚</p>
<h2 id="reactçš„ä¸€äº›ç›¸å…³æ¦‚å¿µ"><a class="header-anchor" href="#reactçš„ä¸€äº›ç›¸å…³æ¦‚å¿µ"></a>Reactçš„ä¸€äº›ç›¸å…³æ¦‚å¿µ</h2>
<h3 id="dom"><a class="header-anchor" href="#dom"></a>DOM</h3>
<ul>
<li><code>DOM</code>: æ–‡æ¡£å¯¹è±¡æ¨¡å‹(Document Object Model). è¿™æ˜¯è¡¨ç¤ºå’Œå¤„ç†ä¸€ä¸ªHTMLæˆ–XMLæ–‡æ¡£çš„å¸¸ç”¨æ–¹æ³•ã€‚<br>
<a href="https://baike.baidu.com/item/DOM/50288#1_2" target="_blank" rel="noopener">DOM:ç™¾åº¦ç™¾ç§‘è§£é‡Š</a></li>
<li>ç›®å‰çš„ç†è§£æ˜¯ï¼šDOMå…¶å®å°±æ˜¯ä¸€å¥—æè¿°æ•°æ®ç»“æ„çš„æ–¹æ³•ã€‚ä¸€å¼€å§‹å¤§å®¶ä¸ç»Ÿä¸€ï¼Œåæ¥æœ‰W3Cç»™å‡ºäº†è§„èŒƒï¼Œå¯ä»¥åˆ†ä¸ºDOMæ ¸å¿ƒï¼ŒHTMLçš„DOMï¼ŒXMLçš„DOMè¿™å‡ ä¸ª</li>
<li>è¿›ä¸€æ­¥çš„ç†è§£ï¼šDOMæ˜¯å‰ç«¯åŸæ¥å°±æœ‰çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç„¶åReactç»™è¿™ä¸ªæ¦‚å¿µèµ‹äºˆäº†ä¸€äº›æ–°çš„å†…æ¶µã€‚æ‰€æœ‰æœ‰React DOMè¿™ä¸ªè¯´æ³•ã€‚React DOMå…¶å®å°±æ˜¯ç»„ä»¶ã€‚</li>
</ul>
<h3 id="jsx"><a class="header-anchor" href="#jsx"></a>JSX</h3>
<p>JSX è¯­æ³•æ˜¯Reactç‹¬æœ‰çš„ã€‚ç›®å‰çš„ç†è§£æ˜¯ï¼š</p>
<ul>
<li>JSXè¯­æ³•åœ¨æ”¯æŒJSé‡Œé¢å¤„ç†HTMLã€‚</li>
<li>å¦‚æœè¿™æ ·çš„è„šæœ¬æ’åœ¨htmlé‡Œé¢ï¼Œè¦ç”¨<code>text/babel</code>æ¥æ ‡è®°ã€‚ babelå‘½ä»¤å¯ä»¥å°†JSXè¯­æ³•ç¼–è¯‘æˆä¸ºJSè¯­æ³•ã€‚</li>
<li>JSX çš„åŸºæœ¬è¯­æ³•è§„åˆ™ï¼šé‡åˆ° HTML æ ‡ç­¾ï¼ˆä»¥ <code>&lt;</code> å¼€å¤´ï¼‰ï¼Œå°±ç”¨ HTML è§„åˆ™è§£æï¼›é‡åˆ°ä»£ç å—ï¼ˆä»¥ <code>{</code> å¼€å¤´ï¼‰ï¼Œå°±ç”¨ JavaScript è§„åˆ™è§£æã€‚</li>
</ul>
<p><a href="https://reactjs.org/docs/rendering-elements.html#jsx-syntax" target="_blank" rel="noopener">JSXè¯­æ³•</a></p>
<h3 id="reactç»„ä»¶"><a class="header-anchor" href="#reactç»„ä»¶"></a>Reactç»„ä»¶</h3>
<ul>
<li>ä½¿ç”¨<code>React.createClass(</code> æ¥åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œç»„ä»¶å¯ä»¥è®¤ä¸ºå’ŒHTMLçš„æ ‡ç­¾ä¸€æ ·ä½¿ç”¨ã€‚e.gï¼šMyComponentsæ˜¯åˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªç»„ä»¶ã€‚</li>
</ul>
<pre><code>&lt;MyComponent
    &quot;Hello world!&quot;;
/MyComponent&gt;
</code></pre>
<ul>
<li>å‰é¢æåˆ°è¿‡React DOMï¼Œå…¶å®å°±æ˜¯ç»„ä»¶ã€‚ç»„ä»¶åœ¨å®šä¹‰æ—¶å€™ï¼Œåªæ˜¯å†…å­˜é‡Œé¢çš„ä¸€ä¸ªæ•°æ®ï¼Œä½†æ˜¯å› ä¸ºå¯ä»¥ä½œä¸ºHTMLæ ‡ç­¾ä½¿ç”¨ï¼Œç„¶årenderæˆä¸ºHTMLé‡Œé¢çš„DOMï¼Œæ‰€æœ‰è¢«ç§°ä¸ºvirtual DOM</li>
<li>ç»„ä»¶ç±»åªèƒ½åŒ…å«ä¸€ä¸ªé¡¶å±‚å…ƒç´ ã€‚</li>
<li>æ‰€æœ‰çš„ç»„ä»¶ç±»å¿…é¡»æœ‰è‡ªå·±çš„renderæ–¹æ³•ï¼Œæ¥</li>
<li>ç»„ä»¶çš„å±æ€§å¯ä»¥åœ¨ç»„ä»¶ç±»çš„ <code>this.props</code> å¯¹è±¡ä¸Šè·å–, å…¶ä¸­çš„<code>this.props.children</code>ä»£è¡¨æ‰€æœ‰çš„å­èŠ‚ç‚¹ã€‚</li>
<li><code>PropTypes</code> å¯ä»¥ç”¨æ¥é™å®šå‚æ•°çš„ç±»å‹ï¼Œ <code>getDefaultProps</code> æ–¹æ³•å¯ä»¥ç”¨æ¥è®¾ç½®ç»„ä»¶å±æ€§çš„é»˜è®¤å€¼</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/14/javaæ•°æ®ç±»å‹æ¯”è¾ƒ1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/14/javaæ•°æ®ç±»å‹æ¯”è¾ƒ1/" itemprop="url">Javaæ•°æ®ç±»å‹(1)  -- æ•°æ®ç±»å‹æ¯”è¾ƒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-14T10:46:27+08:00">
                2019-01-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="hashmap-hashtable"><a class="header-anchor" href="#hashmap-hashtable"></a>HashMap &amp; HashTable</h3>
<h3 id="list-set-vector"><a class="header-anchor" href="#list-set-vector"></a>List &amp; Set &amp; Vector</h3>
<h3 id="hashset-treeset-linkedhashset"><a class="header-anchor" href="#hashset-treeset-linkedhashset"></a>HashSet &amp; TreeSet &amp; LinkedHashSet</h3>
<h3 id="treeset-treemap"><a class="header-anchor" href="#treeset-treemap"></a>TreeSet &amp; TreeMap</h3>
<h3 id="callable-runnable"><a class="header-anchor" href="#callable-runnable"></a>Callable &amp; Runnable</h3>
<p>è¿™ä¸¤ä¸ªéƒ½æ˜¯çº¿ç¨‹æ± å¯ä»¥è°ƒç”¨çš„ã€‚</p>
<ul>
<li>å…±åŒç‚¹æœ‰äºŒï¼š
<ul>
<li>æ˜¯éƒ½æ˜¯ç”¨æ¥å®ç°çº¿ç¨‹çš„æ¥å£</li>
<li>éƒ½éœ€è¦thread.startæ¥å¯åŠ¨ã€‚ <strong><em>çº¿ç¨‹åªèƒ½ç”¨thread.startæ¥å¯åŠ¨å§ã€‚è²Œä¼¼æ²¡æœ‰å…¶ä»–æ–¹å¼</em></strong></li>
</ul>
</li>
<li>ä¸åŒç‚¹æœ‰äºŒï¼š
<ul>
<li>callableå¯ä»¥è¿”å›æ‰§è¡Œç»“æœã€‚runnableä¸è¡Œã€‚ callableçš„è¦è·å¾—æ‰§è¡Œç»“æœçš„è¯ï¼Œéœ€è¦è°ƒç”¨FutureTask.get()æ–¹æ³•å®ç°ï¼Œæ­¤æ–¹æ³•ä¼šé˜»å¡ä¸»çº¿ç¨‹ç›´åˆ°è·å–â€˜å°†æ¥â€™ç»“æœï¼›å½“ä¸è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œä¸»çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼</li>
<li>callableçš„exceptionå¼‚å¸¸å¯ä»¥å¾€ä¸Šé¢è·‘ï¼Œè€Œrunnableçš„åªèƒ½è‡ªå·±å¤„ç†ã€‚è¯´æ˜å‡½æ•°å£°æ˜æ—¶å€™ä¸€ä¸ªæœ‰æŠ›exceptionå•Šã€‚</li>
</ul>
</li>
</ul>
<pre><code>public interface Callable&lt;V&gt; {
    V call() throws Exception;
}

public interface Runnable {
    public abstract void run();
}
</code></pre>
<ul>
<li>å‚è€ƒé“¾æ¥ï¼š <a href="https://www.cnblogs.com/frinder6/p/5507082.html" target="_blank" rel="noopener">å·²ç»è¯´å¾—å¾ˆæ¸…æ¥šçš„ä¸€ç¯‡åšå®¢</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sallyslove.github.io/hexo_blog/hexo_blog/2019/01/09/åœ¨windowsä¸Šé¢å®‰è£…Cassandra/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lynn Shen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/hexo_blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è·¬æ­¥">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/hexo_blog/2019/01/09/åœ¨windowsä¸Šé¢å®‰è£…Cassandra/" itemprop="url">Windowsä¸Šé¢å®‰è£…cassandra</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-09T16:31:00+08:00">
                2019-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/hexo_blog/categories/cassandra/" itemprop="url" rel="index">
                    <span itemprop="name">cassandra</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä¸‹è½½å®‰è£…åŒ…"><a class="header-anchor" href="#ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h3>
<ul>
<li><a href="http://www.apache.org/dyn/closer.lua/cassandra" target="_blank" rel="noopener">http://www.apache.org/dyn/closer.lua/cassandra</a> ä¸Šé¢ä¸‹è½½å®‰è£…åŒ…ã€‚æ²¡æœ‰linuxå’Œwindowsä¸¤ä¸ªå®‰è£…åŒ…ï¼›</li>
<li>å®‰è£…æ­¥éª¤å°±æ˜¯è§£å‹å³å¯ã€‚æ¯”å¦‚è§£å‹åˆ°cç›˜ä¸‹é¢çš„cassandraç›®å½•</li>
</ul>
<hr>
<h3 id="é…ç½®æ›´æ–°"><a class="header-anchor" href="#é…ç½®æ›´æ–°"></a>é…ç½®æ›´æ–°</h3>
<h4 id="é…ç½®æ–‡ä»¶æ›´æ–°"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶æ›´æ–°"></a>é…ç½®æ–‡ä»¶æ›´æ–°</h4>
<p>é…ç½®æ–‡ä»¶æ˜¯confç›®å½•ä¸‹é¢çš„cassandra.yamlæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‚æ•°ã€‚æ¯ä¸ªå‚æ•°çš„å«ä¹‰åœ¨é…ç½®æ–‡ä»¶çš„æ³¨é‡Šé‡Œé¢éƒ½æœ‰ã€‚</p>
<ul>
<li>data_file_directoriesï¼š cassandraæ•°æ®å­˜å‚¨ç›®å½•</li>
<li>commitlog_directory</li>
<li>saved_caches_directory</li>
</ul>
<p>å°†è¿™å‡ ä¸ªå‚æ•°çš„ç›®å½•æ›¿æ¢æˆä¸ºå®é™…çš„å®‰è£…ç›®å½•ï¼š</p>
<pre><code>&quot;commitlog_directory: 
 - C:\cassandra\apache-cassandra-2.2.14\commitlog&quot;
</code></pre>
<h4 id="æ—¥å¿—é…ç½®"><a class="header-anchor" href="#æ—¥å¿—é…ç½®"></a>æ—¥å¿—é…ç½®</h4>
<p>æ—¥å¿—æ–‡ä»¶æ˜¯logback.xmlæ–‡ä»¶ï¼Œè®²å…¶ä¸­çš„cassandra.logdiræ›¿æ¢æˆå®é™…çš„å®‰è£…ç›®å½•</p>
<hr>
<h3 id="é…ç½®cassandra-homeç¯å¢ƒå˜é‡"><a class="header-anchor" href="#é…ç½®cassandra-homeç¯å¢ƒå˜é‡"></a>é…ç½®cassandra homeç¯å¢ƒå˜é‡</h3>
<p>åœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡é‡Œé¢åŠ å…¥CASSANDRA_HOMEå˜é‡ï¼Œå¹¶ä¸”åŠ å…¥åˆ°pathé‡Œé¢</p>
<hr>
<h3 id="å¯åŠ¨cassandra"><a class="header-anchor" href="#å¯åŠ¨cassandra"></a>å¯åŠ¨cassandra</h3>
<p>ç›´æ¥åœ¨æ–°æ‰“å¼€çš„cmdçª—å£ä¸­æ•²å…¥cassandraå³å¯å¯åŠ¨</p>
<hr>
<h3 id="é—®é¢˜è§£å†³"><a class="header-anchor" href="#é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h3>
<ul>
<li>
<p>WARNING! Powershell script execution unavailable.<br>
Please use 'powershell Set-ExecutionPolicy Unrestrictedâ€™<br>
on this user-account to run cassandra with fully featured<br>
functionality on this platform.<br>
åœ¨binç›®å½•ä¸‹é¢çš„cassandra.batæ–‡ä»¶å’Œcassandra.in.batæ–‡ä»¶é‡Œé¢åŠ å…¥ï¼š<br>
set JAVA_HOME=C:\Program Files (x86)\Java\jdk1.8.0_162<br>
set CASSANDRA_HOME=C:\cassandra\apache-cassandra-2.2.13<br>
å³å¯è§£å†³è¿™ä¸ªé—®é¢˜</p>
</li>
<li>
<p>Could not reserve enough space for 2097152KB object heap<br>
ä¿®æ”¹ cassandra.bat ä¸­çš„JVMå‚æ•°<br>
set JAVA_OPTS=-ea^<br>
-javaagent:&quot;%CASSANDRA_HOME%\lib\jamm-0.2.8.jar&quot;^<br>
-Xms512m^<br>
-Xmx512m^</p>
</li>
<li>
<p>config.yaml not valid<br>
saved_caches_directoryå‡ ä¸ªå‚æ•°å‰é¢ä¸èƒ½ç©ºæ ¼</p>
</li>
<li>
<p>cqlshåœ¨è£…å¥½cassandraä¹‹åå¯ä»¥ç›´æ¥å¯åŠ¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œcqlshåœ¨cassandra2.xæ—¶å€™åªæ”¯æŒpython2.7.å…¶ä»–ç‰ˆæœ¬å¯èƒ½æŠ¥é”™ï¼Œè¯­æ³•ä¸å…¼å®¹</p>
</li>
</ul>
<hr>
<h3 id="å‚è€ƒ"><a class="header-anchor" href="#å‚è€ƒ"></a>å‚è€ƒ</h3>
<p><a href="https://blog.csdn.net/qq_28289405/article/details/80308539" target="_blank" rel="noopener">https://blog.csdn.net/qq_28289405/article/details/80308539</a><br>
<a href="https://blog.csdn.net/maosijunzi/article/details/42120889" target="_blank" rel="noopener">https://blog.csdn.net/maosijunzi/article/details/42120889</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/hexo_blog/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/hexo_blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/hexo_blog/page/3/">3</a><span class="page-number current">4</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lynn Shen</p>
              <p class="site-description motion-element" itemprop="description">35å²å¼€å§‹çš„åšå®¢ï¼Œæœ‰ç‚¹æ™šå“¦</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/hexo_blog/archives/">
              
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/hexo_blog/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lynn Shen</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/hexo_blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/hexo_blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/hexo_blog/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/hexo_blog/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/hexo_blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
        <script src="https://billts.site/js/gitment.js"></script>
    
<!-- END LOCAL -->

    

    







  





  

  

  

  
  

  

  

  

</body>
</html>
